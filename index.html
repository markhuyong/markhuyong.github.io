<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="markhuyong&#39;s garden">
<meta property="og:url" content="http://markhuyong.github.io/index.html">
<meta property="og:site_name" content="markhuyong&#39;s garden">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="markhuyong&#39;s garden">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://markhuyong.github.io/"/>





  <title>markhuyong's garden</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">markhuyong's garden</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/06/11/elasticsearch-intro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/11/elasticsearch-intro/" itemprop="url">elasticsearch intro</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-11T22:34:17+08:00">
                2018-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/elasticsearch/" itemprop="url" rel="index">
                    <span itemprop="name">elasticsearch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h2><h3 id="Take-it-easy"><a href="#Take-it-easy" class="headerlink" title="Take it easy"></a>Take it easy</h3><p><strong>The Mists of Time</strong></p>
<p>Many years ago, a newly married unemployed developer called Shay Banon followed his wife to London, where she was studying to be a chef. While looking for gainful employment, he started playing with an early version of Lucene, with the intent of building his wife a recipe search engine.</p>
<p>Working directly with Lucene can be tricky, so Shay started work on an abstraction layer to make it easier for Java programmers to add search to their applications. He released this as his first open source project, called Compass.</p>
<p>Later Shay took a job working in a high-performance, distributed environment with in-memory data grids. The need for a high-performance, real-time, distributed search engine was obvious, and he decided to rewrite the Compass libraries as a standalone server called Elasticsearch.</p>
<p>The first public release came out in February 2010. Since then, Elasticsearch has become one of the most popular projects on GitHub with commits from over 300 contributors. A company has formed around Elasticsearch to provide commercial support and to develop new features, but Elasticsearch is, and forever will be, open source and available to all.</p>
<p>Shay’s wife is still waiting for the recipe search…</p>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/getting-started.html" target="_blank" rel="noopener">«  Getting Started</a>  </p>
<ul>
<li><a href="https://github.com/elastic/elasticsearch-definitive-guide/" target="_blank" rel="noopener">elastic/elasticsearch-definitive-guide: The Definitive Guide to Elasticsearch</a></li>
<li><a href="https://www.amazon.com/ElasticSearch-Cookbook-Second-Alberto-Paro/dp/1783554835/ref=dp_ob_title_bk?dpID=51w76jr4KML&amp;preST=_SX218_BO1,204,203,200_QL40_&amp;dpSrc=detail" target="_blank" rel="noopener">ElasticSearch Cookbook, Second Edition: Alberto Paro: 9781783554836: Amazon.com: Books</a></li>
</ul>
<h4 id="use-cases"><a href="#use-cases" class="headerlink" title="use cases"></a>use cases</h4><ul>
<li>Tag Cloud<br><img src="/assets/1527839724538.jpg" alt="1527839724538"></li>
<li>Heatmaps<br><img src="/assets/1527839786708.jpg" alt="1527839786708"></li>
<li>Vector Maps<br><img src="/assets/1527839847776.jpg" alt="1527839847776"></li>
<li><p>Detect Abnormal<br><img src="/assets/1527842535887.jpg" alt="1527842535887"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UID: 0000000000600036</span><br><span class="line"></span><br><span class="line">// detect abnormal</span><br><span class="line">tags:watchdog_frame AND message: (+0000000000600036)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Wikipedia uses Elasticsearch to provide full-text search with highlighted search snippets, and <em>search-as-you-type</em> and <em>did-you-mean</em> suggestions.</p>
<ul>
<li><a href="https://blog.wikimedia.org/2014/01/06/wikimedia-moving-to-elasticsearch/" target="_blank" rel="noopener">Wikimedia moving to Elasticsearch – Wikimedia Blog</a></li>
<li><a href="https://wikitech.wikimedia.org/wiki/Logstash" target="_blank" rel="noopener">Logstash - Wikitech</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><em>The Guardian</em> uses Elasticsearch to combine visitor logs with social-network data to provide real-time feedback to its editors about the public’s response to new articles.<br><img src="/assets/1527831641278.jpg" alt="1527831641278"></p>
<ul>
<li><a href="https://www.elastic.co/use-cases/guardian" target="_blank" rel="noopener">The Guardian uses the Elastic Stack to deliver real-time visibility of site traffic | Elastic</a></li>
<li><a href="https://www.elastic.co/elasticon/tour/2015/london/making-journalism-better-with-elasticsearch" target="_blank" rel="noopener">Making Journalism Better With Elasticsearch | Elastic</a></li>
<li><a href="https://www.infoq.com/presentations/elasticsearch-guardian" target="_blank" rel="noopener">How Elasticsearch Powers the Guardian’s Newsroom</a></li>
</ul>
</li>
<li><p>Stack Overflow combines full-text search with geolocation queries and uses <em>more-like-this</em> to find related questions and answers.</p>
<ul>
<li><a href="https://www.elastic.co/videos/stack-overflow-uses-facets-and-geo-coding" target="_blank" rel="noopener">Stack Overflow Uses Facets and Geo-Coding | Elastic</a></li>
<li><a href="https://meta.stackexchange.com/questions/187431/how-does-stack-overflow-implement-its-search-indexing/187501#187501" target="_blank" rel="noopener">How does Stack Overflow implement its search indexing? - Meta Stack Exchange</a></li>
<li><a href="https://meta.stackexchange.com/questions/160100/a-new-search-engine-for-stack-exchange" target="_blank" rel="noopener">A new search engine for Stack Exchange - Meta Stack Exchange</a></li>
<li><a href="https://nickcraver.com/blog/2016/02/17/stack-overflow-the-architecture-2016-edition/" target="_blank" rel="noopener">Nick Craver - Stack Overflow: The Architecture - 2016 Edition</a></li>
<li><a href="http://highscalability.com/blog/2014/7/21/stackoverflow-update-560m-pageviews-a-month-25-servers-and-i.html" target="_blank" rel="noopener">StackOverflow Update: 560M Pageviews a Month, 25 Servers, and It’s All About Performance - High Scalability -</a></li>
</ul>
</li>
<li><p>GitHub uses Elasticsearch to query 130 billion lines of code.<br><img src="/assets/1527833552771.jpg" alt="1527833552771"></p>
<ul>
<li><a href="https://www.elastic.co/use-cases/github" target="_blank" rel="noopener">GitHub uses Elasticsearch to index over 8 million code repositories | Elastic</a></li>
<li><a href="https://www.elastic.co/elasticon/2015/sf/elasticsearch-in-anger-stories-from-the-github-search-clusters" target="_blank" rel="noopener">Elasticsearch in Anger: Stories from the GitHub Search Clusters | Elastic</a></li>
</ul>
</li>
<li><p><a href="https://logz.io/blog/15-tech-companies-chose-elk-stack/" target="_blank" rel="noopener">15 Companies Using the ELK Stack</a></p>
</li>
</ul>
<h4 id="use-Date-Range"><a href="#use-Date-Range" class="headerlink" title="use Date Range"></a>use Date Range</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// search log in the defined Range</span><br><span class="line">logtime:[2018-05-01 TO 2018-05-30]</span><br></pre></td></tr></table></figure>
<h4 id="use-tags-and-message-to-search-frameLog"><a href="#use-tags-and-message-to-search-frameLog" class="headerlink" title="use tags and message to search frameLog"></a>use tags and message to search frameLog</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">//search tags is watchdog_frame and message contains 82973 (orderId)</span><br><span class="line">tags:watchdog_frame AND message: ( 82973)</span><br><span class="line"></span><br><span class="line">// 下发命令</span><br><span class="line">// OrderUpdateOperation(下发订单)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x81&quot;)</span><br><span class="line"></span><br><span class="line">// TimeAdjustOperation(时间调整)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x04&quot;)</span><br><span class="line"></span><br><span class="line">// AirConditionerOperation(空调配置)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x06&quot;)</span><br><span class="line"></span><br><span class="line">// OutputOperation(output控制)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x82&quot;)</span><br><span class="line"></span><br><span class="line">// OutputOperation(output控制)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x82&quot;)</span><br><span class="line"></span><br><span class="line">// RealTimeOperation(实时操作)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot;)</span><br><span class="line"></span><br><span class="line">// start RealTimeOperation(实时操作)</span><br><span class="line"></span><br><span class="line">// 请求上报状态信息报文命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x00&quot;)</span><br><span class="line"></span><br><span class="line">// 请求上报版本号命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x01&quot;)</span><br><span class="line"></span><br><span class="line">// 远程重启命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x02&quot;)</span><br><span class="line"></span><br><span class="line">// reset命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x03&quot;)</span><br><span class="line"></span><br><span class="line">// 服务器开门命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x04&quot;)</span><br><span class="line"></span><br><span class="line">// 请求位置命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x05&quot;)</span><br><span class="line"></span><br><span class="line">// 请求GSM信息命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x06&quot;)</span><br><span class="line"></span><br><span class="line">// 设备锁命令</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x84&quot; AND &quot;command=0x07&quot;)</span><br><span class="line"></span><br><span class="line">// end RealTimeOperation(实时操作)</span><br><span class="line"></span><br><span class="line">// OutputModeConfiguration(输出模式)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x08&quot;)</span><br><span class="line"></span><br><span class="line">// MultimediaOperation(多媒体操作)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x01,0x83&quot;)</span><br><span class="line"></span><br><span class="line">// 上报报文</span><br><span class="line"></span><br><span class="line">// RoutineStatusReport(空调关)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x03&quot;)</span><br><span class="line"></span><br><span class="line">// RoutineStatusReport(空调关)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x03&quot; AND &quot;airConditionState&quot; AND &quot;State:Close&quot;)</span><br><span class="line"></span><br><span class="line">// RoutineStatusReport(空调开)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x03&quot; AND &quot;airConditionState&quot; AND &quot;State:Open&quot;)</span><br><span class="line"></span><br><span class="line">// RoutineStatusReport(开机报文)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x01&quot;)</span><br><span class="line"></span><br><span class="line">// RoutineStatusReport(关机报文)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x02&quot;)</span><br><span class="line"></span><br><span class="line">// RoutineStatusReport(协议看门狗重启报文)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x05&quot;)</span><br><span class="line"></span><br><span class="line">// UserInputReport(用户输入事件报文)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x21&quot;)</span><br><span class="line"></span><br><span class="line">// DoorStatusReport(门禁状态)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x22&quot;)</span><br><span class="line"></span><br><span class="line">// GSMModuleReport(版本信息)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x92&quot;)</span><br><span class="line"></span><br><span class="line">// SensorAlarmReport(门禁报警)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x31&quot; AND &quot;DoorAlarm&quot;)</span><br><span class="line"></span><br><span class="line">// SensorAlarmReport(烟雾报警)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x31&quot; AND &quot;SmokeAlarm&quot;)</span><br><span class="line"></span><br><span class="line">// PowerEventReport(电源事件)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x11&quot;)</span><br><span class="line"></span><br><span class="line">// GSMModuleReport(GSM卡信息)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x92&quot;)</span><br><span class="line"></span><br><span class="line">// LocationReport(定位)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x03,0x91&quot;)</span><br><span class="line"></span><br><span class="line">// HeartBeat(心跳包)</span><br><span class="line">tags:watchdog_frame AND message: (0000000000600042 AND &quot;0x04,0xFF&quot;)</span><br></pre></td></tr></table></figure>
<h4 id="search-ActionLog"><a href="#search-ActionLog" class="headerlink" title="search ActionLog"></a>search ActionLog</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logType: WARN</span><br><span class="line">logType: INFO</span><br><span class="line">logType: ERROR</span><br></pre></td></tr></table></figure>
<h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// use regex</span><br><span class="line">tags:watchdog_frame AND message: (+0000000000600042 AND 0x0?,0x0?)</span><br></pre></td></tr></table></figure>
<h4 id="Direct-access-to-the-Elasticsearch-API"><a href="#Direct-access-to-the-Elasticsearch-API" class="headerlink" title="Direct access to the Elasticsearch API"></a>Direct access to the Elasticsearch API</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">// indices setting</span><br><span class="line">$ curl -XPUT https://&lt;endpoint&gt;/blog -d &apos;&#123;</span><br><span class="line">&quot;settings&quot; : &#123; &quot;number_of_shards&quot; : 3, &quot;number_of_replicas&quot; : 1 &#125; &#125;&apos;</span><br><span class="line"></span><br><span class="line">// create a post</span><br><span class="line">$ curl -XPOST http://&lt;endpoint&gt;/blog/post/1 -d &apos;&#123;</span><br><span class="line">&quot;author&quot;:&quot;jon handler&quot;,</span><br><span class="line">&quot;title&quot;:&quot;Amazon ES Launch&quot; &#125;&apos;</span><br><span class="line"></span><br><span class="line">// bulk create posts</span><br><span class="line">$ curl -XPOST https://&lt;endpoint&gt;/blog/post/_bulk -d &apos;</span><br><span class="line">&#123; &quot;index&quot; : &#123; &quot;index&quot; : &quot;blog&quot;, &quot;type&quot; : &quot;post&quot;, &quot;_id&quot; : &quot;2&quot;&#125;&#125;</span><br><span class="line">&#123;&quot;title&quot;:&quot;Amazon ES for search&quot;, &quot;author&quot;: &quot;carl meadows&quot;&#125;,</span><br><span class="line">&#123; &quot;index&quot; : &#123; &quot;index&quot;:&quot;blog&quot;, &quot;type&quot;:&quot;post&quot;, &quot;_id&quot;:&quot;3&quot; &#125; &#125;</span><br><span class="line">&#123; &quot;title&quot;:&quot;Analytics too&quot;, &quot;author&quot;: &quot;vivek sriram&quot;&#125;&apos;</span><br><span class="line"></span><br><span class="line">// search posts</span><br><span class="line">$ curl -XGET http://&lt;endpoint&gt;/_search?q=ES</span><br><span class="line">&#123;</span><br><span class="line">   &quot;took&quot;:16,</span><br><span class="line">   &quot;timed_out&quot;:false,</span><br><span class="line">   &quot;shards&quot;:&#123;</span><br><span class="line">      &quot;total&quot;:3,</span><br><span class="line">      &quot;successful&quot;:3,</span><br><span class="line">      &quot;failed&quot;:0</span><br><span class="line">   &#125;,</span><br><span class="line">   &quot;hits&quot;:&#123;</span><br><span class="line">      &quot;total&quot;:2,</span><br><span class="line">      &quot;max_score&quot;:0.13424811,</span><br><span class="line">      &quot;hits&quot;:[</span><br><span class="line">         &#123;</span><br><span class="line">            &quot;index&quot;:&quot;blog&quot;,</span><br><span class="line">            &quot;type&quot;:&quot;post&quot;,</span><br><span class="line">            &quot;id&quot;:&quot;1&quot;,</span><br><span class="line">            &quot;score&quot;:0.13424811,</span><br><span class="line">            &quot;source&quot;:&#123;</span><br><span class="line">               &quot;author&quot;:&quot;jon handler&quot;,</span><br><span class="line">               &quot;title&quot;:&quot;Amazon ES Launch&quot;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">            &quot;index&quot;:&quot;blog&quot;,</span><br><span class="line">            &quot;type&quot;:&quot;post&quot;,</span><br><span class="line">            &quot;id&quot;:&quot;2&quot;,</span><br><span class="line">            &quot;score&quot;:0.11506981,</span><br><span class="line">            &quot;_source&quot;:&#123;</span><br><span class="line">               &quot;title&quot;:&quot;Amazon ES for search&quot;,</span><br><span class="line">               &quot;author&quot;:&quot;carl meadows&quot;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">         &#125;</span><br><span class="line">      ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Is it running?</span><br><span class="line">http://47.97.104.178:9200/?pretty</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot; : &quot;Vvew76v&quot;,</span><br><span class="line">  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,</span><br><span class="line">  &quot;cluster_uuid&quot; : &quot;RRMIEU-MQUS-BE5sVOKDKQ&quot;,</span><br><span class="line">  &quot;version&quot; : &#123;</span><br><span class="line">    &quot;number&quot; : &quot;6.1.1&quot;,</span><br><span class="line">    &quot;build_hash&quot; : &quot;bd92e7f&quot;,</span><br><span class="line">    &quot;build_date&quot; : &quot;2017-12-17T20:23:25.338Z&quot;,</span><br><span class="line">    &quot;build_snapshot&quot; : false,</span><br><span class="line">    &quot;lucene_version&quot; : &quot;7.1.0&quot;,</span><br><span class="line">    &quot;minimum_wire_compatibility_version&quot; : &quot;5.6.0&quot;,</span><br><span class="line">    &quot;minimum_index_compatibility_version&quot; : &quot;5.0.0&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;tagline&quot; : &quot;You Know, for Search&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.x/query-dsl-query-string-query.html#query-string-syntax" target="_blank" rel="noopener">Query String Query | Elasticsearch Reference [6.x] | Elastic</a></li>
</ul>
<h2 id="How-to-view"><a href="#How-to-view" class="headerlink" title="How to view"></a>How to view</h2><h3 id="Why-Elastic"><a href="#Why-Elastic" class="headerlink" title="Why Elastic"></a>Why Elastic</h3><h4 id="Distributed-amp-Scalable"><a href="#Distributed-amp-Scalable" class="headerlink" title="Distributed &amp; Scalable"></a>Distributed &amp; Scalable</h4><ul>
<li><p>Resilient; designed for scale-out</p>
</li>
<li><p>High availability; multitenancy</p>
</li>
<li><p>Structured &amp; unstructured data</p>
</li>
</ul>
<h4 id="Developer-Friendly"><a href="#Developer-Friendly" class="headerlink" title="Developer Friendly"></a>Developer Friendly</h4><ul>
<li><p>Schemaless</p>
</li>
<li><p>Native JSON</p>
</li>
<li><p>Client libraries</p>
</li>
<li><p>Apache Lucene</p>
</li>
</ul>
<h4 id="Search-amp-Analytics"><a href="#Search-amp-Analytics" class="headerlink" title="Search &amp; Analytics"></a>Search &amp; Analytics</h4><ul>
<li><p>Near Real-time</p>
</li>
<li><p>Full-text search</p>
</li>
<li><p>Aggregations</p>
</li>
<li><p>Geospatial</p>
</li>
<li><p>Multilingua</p>
</li>
</ul>
<h3 id="The-Elastic-Stack"><a href="#The-Elastic-Stack" class="headerlink" title="The Elastic Stack"></a>The Elastic Stack</h3><p> <img src="/assets/1527665943347.jpg" alt="1527665943347"></p>
<h3 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h3><p><img src="/assets/1527670661895.jpg" alt="1527670661895"></p>
<h3 id="Elasticsearch-Cluster-deploy"><a href="#Elasticsearch-Cluster-deploy" class="headerlink" title="Elasticsearch Cluster deploy"></a>Elasticsearch Cluster deploy</h3><p><img src="/assets/1527836752076.jpg" alt="1527836752076"></p>
<h3 id="TERMINOLOGY"><a href="#TERMINOLOGY" class="headerlink" title="TERMINOLOGY"></a>TERMINOLOGY</h3><table>
<thead>
<tr>
<th>MySQL</th>
<th>Elastic Search</th>
</tr>
</thead>
<tbody>
<tr>
<td>Database</td>
<td>Index</td>
</tr>
<tr>
<td>Table</td>
<td>Type</td>
</tr>
<tr>
<td>Row</td>
<td>Document</td>
</tr>
<tr>
<td>Column</td>
<td>Field</td>
</tr>
<tr>
<td>Schema</td>
<td>Mapping</td>
</tr>
<tr>
<td>Index</td>
<td>Everything is indexed</td>
</tr>
<tr>
<td>Partition</td>
<td>Shard</td>
</tr>
<tr>
<td>SQL</td>
<td>Query DSL</td>
</tr>
<tr>
<td>SELECT field, COUNT(*)FROM table GROUP BY field</td>
<td>Facet(Aggregations)</td>
</tr>
<tr>
<td>SELECT * FROM table …</td>
<td>GET http://…</td>
</tr>
<tr>
<td>UPDATE table SET …</td>
<td>PUT http://…</td>
</tr>
</tbody>
</table>
<h2 id="How-to-understand"><a href="#How-to-understand" class="headerlink" title="How to understand"></a>How to understand</h2><h3 id="Basic-Concepts"><a href="#Basic-Concepts" class="headerlink" title="Basic Concepts"></a>Basic Concepts</h3><ul>
<li>Cluster:<br>A cluster consists of one or more nodes which share the same cluster name. Each cluster has a single master node which is chosen automatically by the cluster and which can be replaced if the current master node fails</li>
</ul>
<ul>
<li><p>Node:<br>A node is a running instance of ElasticSearch which belongs to a cluster. Multiple nodes can be started on a single server for testing purposes, but usually you should have one node per server. At startup, a node will use unicast for multicast, if specified) to discover an existing cluster with the same cluster name and will try to join that cluster.</p>
</li>
<li><p>Index:<br>An index is like a database in a relational database. It has a mapping which defines multiple types. An index is a logical namespace which maps to one or more primary shards and can have zero or more replica shards.</p>
</li>
<li><p>Type:<br>A type is like a table in a relational database. Each type has a list of fields that can be specified for documents of that type. The mapping defines how each field in the document is analyzed.</p>
</li>
<li><p>Document:<br>A document is a SON document which is stored in ElasticSearch. it is like a row in a table in a relational database. Each<br>document is stored in an index and has a type and an id a document is a JSON object(also known in other languages as a hash/hashmap/associative array) which contains zero or more fields, or key-value pairs. The original JSON document that is indexed will be stored in the <code>_source</code> field, which is returned by default when getting or searching for a document.</p>
</li>
<li><p>Field:<br>A document contains a list of fields, or key-value pairs. The value can be a simple(scalar) value (eg a string, integer, date),or a nested structure like an array or an object. A field is similar to a column in a table in a relational database. The mapping for each field has a field type (not to be confused with document type)which indicates the type of data that can be stored in that field, eg integer, string, object. The mapping also allows you to define (amongst other things) how the value for a field should be analyzed.</p>
</li>
<li><p>Mapping:<br>A mapping is like a ‘schema definition’ in a relational database. Each index has a mapping, which defines each type within the index, plus a number of index-wide settings A mapping can either be defined explicitly, or it will be generated automatically when a document is indexed.</p>
</li>
<li><p>Facets(Aggregations):<br>Faceted search refers to a way to explore large amounts of data by displaying summaries about various partitions of the data and later allowing to narrow the navigation to a specific partition.<br>In Elasticsearch, <code>facets</code> are also the name of a feature that allowed to compute these summaries. <code>facets</code> have been replaced by <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.1/search-aggregations.html" target="_blank" rel="noopener">aggregations</a> in Elasticsearch 1.0, which are a superset of facets.</p>
</li>
<li><p>Shard:<br>A shard is a single Lucene instance. It is a low-level “worker” unit which is managed automatically by ElasticSearch. An index is a logical namespace which points to primary and replica shards.<br>ElasticSearch distributes shards amongst all nodes in the cluster, and can move shards automatically from one node to another in the case of node failure, or the addition of new nodes</p>
<ul>
<li><a href="https://stackoverflow.com/questions/47003336/need-elasticsearch-index-sharding-explanation?rq=1" target="_blank" rel="noopener">lucene - need elasticsearch index sharding explanation - Stack Overflow</a></li>
</ul>
</li>
<li><p>Primary Shard:<br>Each document is stored in a single primary shard. When a document is send for indexing, it is indexed first on the primary shard, then on all replicas of the primary shard. By default, an index has 5 primary shards. You can specify fewer or more primary shards to scale the number of documents that your index can handle.</p>
</li>
<li><p>Replica Shard:<br>Each primary shard can have zero or more replicas. A replica is a copy of the primary shard, and has two purposes:<br>a. increase failover: a replica shard can be promoted to a primary shard if the primary fails.<br>b. increase performance: get and search requests can be handled by primary or replica shards.</p>
</li>
<li>Identified by “_index/_type/_id”</li>
</ul>
<h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><ul>
<li>cluster.name:<br>Cluster name identifies duster for auto-discovery If production environment has multiple clusters on the same network, duster name must be unique.</li>
<li>node.name:<br>Node names are generated dynamically on startup. But user can specify a name to node manual.</li>
<li>node.master&amp;node.data:<br>Every node can be configured to allow or deny being eligible as the master, and to allow or deny to store the data, Master allow this node to be eligible as a master node(enabled by default)and Data allow this node to store data (enabled by default)</li>
</ul>
<p>Following are the settings to design advanced duster topologies.</p>
<ol>
<li><p>If a node to never become a master node, only to hold data. This will be the” workhorse”of the duster.<br><code>node master: false, node data: true</code></p>
</li>
<li><p>If a node to only serve as a master and not to store data and to have free resources. This will be the “coordinator” of the cluster.<br><code>node master: true, node data: false</code></p>
</li>
<li><p>If a node to be neither master nor data node, but to act as a”search load balancer”(fetching data from nodes, aggregating, etc)<br><code>node master: false, node data: false</code></p>
</li>
</ol>
<ul>
<li><p>Index:<br>A number of options(such as shard/replica options, mapping or analyzer definitions, translog settings, .) can be set for indices globally, in this file.<br>Note, that it makes more sense to configure index settings specifically for a certain index, either when creating it or by using the index templates API..<br>example.<br><code>index.number_of_shards: 5, index.number_of_replicas: 1</code></p>
</li>
<li><p>Discovery:<br>ElasticSearch supports different types of discovery, which makes multiple ElasticSearch instances talk to each other.<br>The default type of discovery is multicast. Unicast discovery allows to explicitly control which nodes will be used to discover the duster. it can be used when multicast is not present, or to restrict the duster communication-wise.</p>
</li>
</ul>
<p><strong>Index Versus Index Versus Inverted Index</strong></p>
<p><img src="/assets/invertedIndex.jpg" alt="invertedIndex"></p>
<p>You may already have noticed that the word <em>index</em> is overloaded with several meanings in the context of Elasticsearch. A little clarification is necessary:</p>
<ul>
<li><p>Index (noun)</p>
<p>As explained previously, an <em>index</em> is like a <em>database</em> in a traditional relational database. It is the place to store related documents. The plural of <em>index</em> is <em>indices</em> or <em>indexes</em>.</p>
</li>
<li><p>Index (verb)</p>
<p><em>To index a document</em> is to store a document in an <em>index (noun)</em> so that it can be retrieved and queried. It is much like the <code>INSERT</code> keyword in SQL except that, if the document already exists, the new document would replace the old.</p>
</li>
<li><p>Inverted index</p>
<p>Relational databases add an <em>index</em>, such as a B-tree index, to specific columns in order to improve the speed of data retrieval. Elasticsearch and Lucene use a structure called an <em>inverted index</em> for exactly the same purpose. By default, every field in a document is <em>indexed</em> (has an inverted index) and thus is searchable. A field without an inverted index is not searchable. We discuss inverted indexes in more detail in <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/inverted-index.html" target="_blank" rel="noopener">Inverted Index</a>.</p>
<ul>
<li><a href="https://nlp.stanford.edu/IR-book/html/htmledition/a-first-take-at-building-an-inverted-index-1.html" target="_blank" rel="noopener">A first take at building an inverted index</a></li>
<li><a href="http://th30z.blogspot.com/2010/10/python-inverted-index-for-dummies.html" target="_blank" rel="noopener">Th30z (Matteo Bertozzi Code): Python: Inverted Index for dummies</a></li>
</ul>
</li>
</ul>
<h3 id="Cluster-Architecture"><a href="#Cluster-Architecture" class="headerlink" title="Cluster Architecture"></a>Cluster Architecture</h3><p>  <img src="/assets/1527670820582.jpg" alt="1527670820582"></p>
<ul>
<li>Partitioning your documents into different containers or shards, which can bestored on a single node or on multiple nodes.</li>
<li>Balancing these shards across the nodes in your cluster to spread the indexing andsearch load.</li>
<li>Duplicating each shard to provide redundant copies of your data, to prevent dataloss in case of hardware failure.</li>
<li>Routing requests from any node in the cluster to the nodes that hold the data you’reinterested in.</li>
<li>Seamlessly integrating new nodes as your cluster grows or redistributing shards torecover from node loss.</li>
</ul>
<h3 id="Index-Request"><a href="#Index-Request" class="headerlink" title="Index Request"></a>Index Request</h3><p><img src="/assets/1527845763041.jpg" alt="1527845763041"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Request :</span><br><span class="line">PUT test/cities/1 &#123;</span><br><span class="line">&quot;rank&quot;: 3,</span><br><span class="line">&quot;city&quot;: &quot;Hyderabad&quot;,</span><br><span class="line">&quot;state&quot;: &quot;Telangana&quot;, &quot;population2014&quot;: 7750000, &quot;land_area&quot;: 625, &quot;location&quot;:</span><br><span class="line">&#123;</span><br><span class="line">&quot;lat&quot;: 17.37,</span><br><span class="line">&quot;lon&quot;: 78.48 &#125;,</span><br><span class="line">&quot;abbreviation&quot;: &quot;Hyd&quot; &#125;</span><br><span class="line">Response : &#123; &quot;_index&quot;: &quot;test&quot;, &quot;_type&quot;: &quot;cities&quot;, &quot;_id&quot;: &quot;1&quot;, &quot;_version&quot;: 1, &quot;created&quot;: true &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Search-Request"><a href="#Search-Request" class="headerlink" title="Search Request"></a>Search Request</h3><p><img src="/assets/1527845880572.jpg" alt="1527845880572"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Request :</span><br><span class="line">GET test/cities/1?pretty</span><br><span class="line">Response : &#123;</span><br><span class="line">&quot;_index&quot;: &quot;test&quot;, &quot;_type&quot;: &quot;cities&quot;, &quot;_id&quot;: &quot;1&quot;, &quot;_version&quot;: 1, &quot;found&quot;: true, &quot;_source&quot;: &#123;</span><br><span class="line">&quot;rank&quot;: 3,</span><br><span class="line">&quot;city&quot;: &quot;Hyderabad&quot;,</span><br><span class="line">&quot;state&quot;: &quot;Telangana&quot;, &quot;population2014&quot;: 7750000, &quot;land_area&quot;: 625, &quot;location&quot;: &#123;</span><br><span class="line">&quot;lat&quot;: 17.37,</span><br><span class="line">&quot;lon&quot;: 78.48 &#125;,</span><br><span class="line">&quot;abbreviation&quot;: &quot;Hyd&quot; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Updating-a-document"><a href="#Updating-a-document" class="headerlink" title="Updating a document"></a>Updating a document</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Request :</span><br><span class="line">PUT test/cities/1 &#123;</span><br><span class="line">&quot;rank&quot;: 3,</span><br><span class="line">&quot;city&quot;: &quot;Hyderabad&quot;,</span><br><span class="line">&quot;state&quot;: &quot;Telangana&quot;, &quot;population2013&quot;: 7023000, &quot;population2014&quot;: 7750000, &quot;land_area&quot;: 625,</span><br><span class="line">&quot;location&quot;:</span><br><span class="line">&#123;</span><br><span class="line">&quot;lat&quot;: 17.37,</span><br><span class="line">&quot;lon&quot;: 78.48 &#125;,</span><br><span class="line">&quot;abbreviation&quot;: &quot;Hyd&quot; &#125;</span><br><span class="line">Response : &#123;&quot;_index&quot;: &quot;test&quot;, &quot;_type&quot;: &quot;cities&quot;, &quot;_id&quot;: &quot;1&quot;, &quot;_version&quot;: 2, &quot;created&quot;: false&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h3><ul>
<li><p>Search across all indexes and all types<br><code>http://localhost:9200/_search</code></p>
</li>
<li><p>Search across all types in the test index.<br><code>http://localhost:9200/test/_search</code></p>
</li>
<li><p>Search explicitly for documents of type cities within the test index.<br><code>http://localhost:9200/test/cities/_search</code></p>
</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Database_index" target="_blank" rel="noopener">Database index - Wikipedia</a></li>
<li><a href="https://en.wikipedia.org/wiki/Inverted_index" target="_blank" rel="noopener">Inverted index - Wikipedia</a></li>
<li><a href="https://en.wikipedia.org/wiki/B%2B_tree" target="_blank" rel="noopener">B+ tree - Wikipedia</a></li>
<li><a href="http://blog.ulf-wendel.de/2016/aggregation-features-elasticsearch-vs-mysql-vs-mongodb/" target="_blank" rel="noopener">Aggregation features, Elasticsearch vs. MySQL (vs. MongoDB) - Ulf WendelUlf Wendel</a></li>
<li><a href="https://github.com/mobz/ElasticSearch-head" target="_blank" rel="noopener">ElasticSearch-Head</a></li>
<li><a href="http://www.elastic.co/guide/en/marvel/current/#_marvel_8217_s_dashboards" target="_blank" rel="noopener">Marvel</a></li>
<li><a href="https://github.com/karmi/ElasticSearch-paramedic" target="_blank" rel="noopener">Paramedic</a></li>
<li><a href="https://github.com/lukas-vlcek/bigdesk/" target="_blank" rel="noopener">Bigdesk</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/24/trell-search/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/24/trell-search/" itemprop="url">trell-search</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-24T11:46:52+08:00">
                2018-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tools/" itemprop="url" rel="index">
                    <span itemprop="name">tools</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Special-Operators"><a href="#Special-Operators" class="headerlink" title="Special Operators"></a>Special Operators</h2><ul>
<li><a href="https://help.trello.com/article/808-searching-for-cards-all-boards" target="_blank" rel="noopener">Searching for Cards (All Boards) - Trello Help</a></li>
</ul>
<p>Search operators refine your search to help you find specific cards and create highly tailored lists. Trello will suggest operators for you as you type, but here’s a full list to keep in mind. </p>
<p>These operators will also work in the “Archive” search bar. See  <a href="https://help.trello.com/article/795-archiving-and-deleting-cards" target="_blank" rel="noopener">Archiving and deleting cards</a> for more details.</p>
<p><strong>-operator</strong> - You can add “-” to any operator to do a negative search, such as -has:members to search for cards without any members assigned.</p>
<p><strong>@name</strong> - Returns cards assigned to a member. If you start typing @, Trello will suggest members for you. <strong>member:</strong> also works. @me will include only your cards.<br><strong>label:</strong> - Returns labeled cards. Trello will suggest labels for you if you start typing a name or color. For example, label:”FIX IT” will return cards with the label named “FIX IT”. <strong>#label</strong> also works.</p>
<p><strong>board:id</strong> - Returns cards within a specific board. If you start typing board:, Trello will suggest boards for you. You can search by board name, too, such as “board:trello” to search only cards on boards with trello in the board name.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-board:parkbox spring // search spring except board parkbox</span><br></pre></td></tr></table></figure>
<p><strong>list:name</strong> - Returns cards within the list named “name”. Or whatever you type besides “name”.</p>
<p><strong>has:attachments</strong> - Returns cards with attachments. <strong>has:description</strong>, <strong>has:cover</strong>, <strong>has:members</strong>, and <strong>has:stickers</strong> also work as you would expect.</p>
<p><strong>due:day</strong> - Returns cards due within 24 hours. <strong>due:week</strong> returns cards that are due within the following 7 days. <strong>due:month</strong>, and <strong>due:overdue</strong> also work as expected. You can search for a specific day range. For example, adding due:14 to search will include cards due in the next 14 days. You can also search for <strong>due:complete</strong> or <strong>due:incomplete</strong> to search for due dates that are marked as complete or incomplete.</p>
<p><strong>created:day</strong> - Returns cards created in the last 24 hours. <strong>created:week</strong> and <strong>created:month</strong> also work as expected. You can search for a specific day range. For example, adding created:14 to the search will include cards created in the last 14 days.</p>
<p><strong>edited:day</strong> - Returns cards edited in the last 24 hours. <strong>edited:week</strong> and <strong>edited:month</strong> also work as expected. You can search for a specific day range. For example, adding edited:21 to the search will include cards edited in the last 21 days.</p>
<p><strong>description:</strong>, <strong>checklist:</strong>, <strong>comment:</strong>, and <strong>name:</strong> - Returns cards matching the text of card descriptions, checklists, comments, or names. For example, comment:”FIX IT” will return cards with “FIX IT” in a comment.</p>
<p><strong>is:open</strong> returns open cards. <strong>is: archived</strong> returns archived cards. If neither is specified, Trello will return both types.</p>
<p><strong>is:starred</strong> - Only include cards on starred boards.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/19/spring-framework-annotations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/spring-framework-annotations/" itemprop="url">spring-framework-annotations</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T19:26:09+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><a href="https://dzone.com/articles/a-guide-to-spring-framework-annotations" target="_blank" rel="noopener">A Guide to Spring Framework Annotations - DZone Java</a></li>
</ul>
<p>The Java programming language provided support for annotations from Java 5.0 onward. Leading Java frameworks were quick to adopt annotations, and the Spring Framework started using annotations from the 2.5 release. Due to the way they are defined, annotations provide a lot of context in their declaration.</p>
<p>Prior to annotations, the behavior of the Spring Framework was largely controlled through XML configuration. Today, the use of annotations provide us tremendous capabilities in how we configure the behaviors of the Spring Framework.</p>
<p>In this post, we’ll take a look at the annotations available in the Spring Framework.</p>
<h2 id="Core-Spring-Framework-Annotations"><a href="#Core-Spring-Framework-Annotations" class="headerlink" title="Core Spring Framework Annotations"></a>Core Spring Framework Annotations</h2><h3 id="Required"><a href="#Required" class="headerlink" title="@Required"></a>@Required</h3><p>This annotation is applied to bean setter methods. Consider a scenario where you need to enforce a required property. The @Required annotation indicates that the affected bean must be populated at configuration time with the required property. Otherwise, an exception of type BeanInitializationException is thrown.</p>
<h3 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h3><p>This annotation is applied to fields, setter methods, and constructors. The @Autowired annotation injects object dependency implicitly.</p>
<p>When you use @Autowired on fields and pass the values for the fields using the property name, Spring will automatically assign the fields with the passed values.</p>
<p>You can even use @Autowired on private properties, as shown below. (This is a very poor practice though!)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span>                               </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Person person;                   </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> type;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>When you use @Autowired on setter methods, Spring tries to perform it by Type autowiring on the method. You are instructing Spring that it should initiate this property using a setter method where you can add your custom code, like initializing any other property with this property.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;            </span><br><span class="line">    <span class="keyword">private</span> Person person;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPerson</span> <span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.person=person;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Consider a scenario where you need an instance of class A, but you do not store A in the field of the class. You just use A to obtain an instance of B, and you are storing B in this field. In this case, setter method autowiring will better suit you. You will not have class-level unused fields.</p>
<p>When you use @Autowired on a constructor, then constructor injection happens at the time of object creation. It tells the constructor to autowire when used as a bean. One thing to note here is that only one constructor of any bean class can carry the @Autowired annotation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Person person;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Customer</span> <span class="params">(Person person)</span> </span>&#123;					</span><br><span class="line">        <span class="keyword">this</span>.person=person;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>NOTE: As of Spring 4.3, @Autowired became optional on classes with a single constructor. In the above example, Spring would still inject an instance of the Person class if you omitted the @Autowired annotation.</p>
<h3 id="Qualifier"><a href="#Qualifier" class="headerlink" title="@Qualifier"></a>@Qualifier</h3><p>This annotation is used along with the @Autowired annotation. When you need more control of the dependency injection process, @Qualifier can be used. @Qualifier can be specified on individual constructor arguments or method parameters. This annotation is used to avoid the confusion that occurs when you create more than one bean of the same type and want to wire only one of them with a property.</p>
<p>Consider an example where an interface BeanInterface is implemented by two beans, BeanB1 and BeanB2.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanB1</span> <span class="keyword">implements</span> <span class="title">BeanInterface</span> </span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanB2</span> <span class="keyword">implements</span> <span class="title">BeanInterface</span> </span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now if BeanA autowires this interface, Spring will not know which one of the two implementations to inject.</p>
<p>One solution to this problem is the use of the @Qualifier annotation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanA</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier</span>(<span class="string">"beanB2"</span>)</span><br><span class="line">    <span class="keyword">private</span> IBean dependency;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>With the @Qualifier annotation added, Spring will now know which bean to autowire, where beanB2 is the name of BeanB2.</p>
<h3 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h3><p>This annotation is used on classes that define beans. @Configuration is an analog for an XML configuration file – it is configuration using Java classes. A Java class annotated with @Configuration is a configuration by itself and will have methods to instantiate and configure the dependencies.</p>
<p>Here is an example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuartion</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">source</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DataSource source = <span class="keyword">new</span> OracleDataSource();</span><br><span class="line">        source.setURL();</span><br><span class="line">        source.setUser();</span><br><span class="line">        <span class="keyword">return</span> source;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> PlatformTransactionManager <span class="title">manager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        PlatformTransactionManager manager = <span class="keyword">new</span> 	       </span><br><span class="line">        BasicDataSourceTransactionManager();</span><br><span class="line">        manager.setDataSource(source());</span><br><span class="line">        <span class="keyword">return</span> manager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h3><p>This annotation is used with the @Configuration annotation to allow Spring to know the packages to scan for annotated components. @ComponentScan is also used to specify base packages using basePackageClasses or basePackage attributes to scan. If specific packages are not defined, scanning will occur from the package of the class that declares this annotation.</p>
<h3 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h3><p>This annotation is used at the method level. The @Bean annotation works with @Configuration to create Spring beans. As mentioned earlier, @Configuration will have methods to instantiate and configure dependencies. Such methods will be annotated with @Bean. The method annotated with this annotation works as the bean ID, and it creates and returns the actual bean.</p>
<p>Here is an example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Person(address());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Address <span class="title">address</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Address();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Lazy"><a href="#Lazy" class="headerlink" title="@Lazy"></a>@Lazy</h3><p>This annotation is used on component classes. By default, all autowired dependencies are created and configured at startup. But if you want to initialize a bean lazily, you can use the @Lazy annotation over the class. This means that the bean will be created and initialized only when it is first requested for. You can also use this annotation on @Configuration classes. This indicates that all @Bean methods within that @Configuration should be lazily initialized.</p>
<h3 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h3><p>This annotation is used at the field, constructor parameter, and method parameter levels. The @Value annotation indicates a default value expression for the field or parameter to initialize the property with. As the @Autowired annotation tells Spring to inject an object into another when it loads your application context, you can also use the @Value annotation to inject values from a property file into a bean’s attribute. It supports both #{…} and ${…} placeholders.</p>
<h2 id="Spring-Framework-Stereotype-Annotations"><a href="#Spring-Framework-Stereotype-Annotations" class="headerlink" title="Spring Framework Stereotype Annotations"></a>Spring Framework Stereotype Annotations</h2><h3 id="Component"><a href="#Component" class="headerlink" title="@Component"></a>@Component</h3><p>This annotation is used on classes to indicate a Spring component. The @Component annotation marks the Java class as a bean or component so that the component-scanning mechanism of Spring can add it into the application context.</p>
<h3 id="Controller"><a href="#Controller" class="headerlink" title="@Controller"></a>@Controller</h3><p>The @Controller annotation is used to indicate the class is a Spring controller. This annotation can be used to identify controllers for Spring MVC or Spring WebFlux.</p>
<h3 id="Service"><a href="#Service" class="headerlink" title="@Service"></a>@Service</h3><p>This annotation is used on a class. @Service marks a Java class that performs some service, such as executing business logic, performing calculations, and calling external APIs. This annotation is a specialized form of the@Component annotation intended to be used in the service layer.</p>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="@Repository"></a>@Repository</h3><p>This annotation is used on Java classes that directly access the database. The @Repository annotation works as a marker for any class that fulfills the role of repository or Data Access Object.</p>
<p>This annotation has an automatic translation feature. For example, when an exception occurs in the @Repository, there is a handler for that exception and there is no need to add a try-catch block.</p>
<h2 id="Spring-Boot-Annotations"><a href="#Spring-Boot-Annotations" class="headerlink" title="Spring Boot Annotations"></a>Spring Boot Annotations</h2><h3 id="EnableAutoConfiguration"><a href="#EnableAutoConfiguration" class="headerlink" title="@EnableAutoConfiguration"></a>@EnableAutoConfiguration</h3><p>This annotation is usually placed on the main application class. The @EnableAutoConfiguration annotation implicitly defines a base “search package”. This annotation tells Spring Boot to start adding beans based on classpath settings, other beans, and various property settings.</p>
<h3 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h3><p>This annotation is used on the application class while setting up a Spring Boot project. The class that is annotated with the @SpringBootApplication must be kept in the base package. The one thing that the@SpringBootApplication does is a component scan. But it will scan only its sub-packages. As an example, if you put the class annotated with @SpringBootApplication in com.example, then @SpringBootApplication will scan all its sub-packages, such as com.example.a, com.example.b, and com.example.a.x.</p>
<p>The @SpringBootApplication is a convenient annotation that adds all the following:</p>
<ul>
<li>@Configuration</li>
<li>@EnableAutoConfiguration</li>
<li>@ComponentScan</li>
</ul>
<h2 id="Spring-MVC-and-REST-Annotations"><a href="#Spring-MVC-and-REST-Annotations" class="headerlink" title="Spring MVC and REST Annotations"></a>Spring MVC and REST Annotations</h2><h3 id="Controller-1"><a href="#Controller-1" class="headerlink" title="@Controller"></a>@Controller</h3><p>This annotation is used on Java classes that play the role of controller in your application. The @Controller annotation allows autodetection of component classes in the classpath and auto-registering bean definitions for them. To enable autodetection of such annotated controllers, you can add component scanning to your configuration. The Java class annotated with @Controller is capable of handling multiple request mappings.</p>
<p>This annotation can be used with Spring MVC and Spring WebFlux.</p>
<h3 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h3><p>This annotation is used at both the class and method level. The @RequestMapping annotation is used to map web requests onto specific handler classes and handler methods. When @RequestMapping is used on the class level, it creates a base URI for which the controller will be used. When this annotation is used on methods, it will give you the URI on which the handler methods will be executed. From this, you can infer that the class level request mapping will remain the same whereas each handler method will have their own request mapping.</p>
<p>Sometimes you may want to perform different operations based on the HTTP method used, even though the request URI may remain the same. In such situations, you can use the method attribute of @RequestMapping with an HTTP method value to narrow down the HTTP methods in order to invoke the methods of your class.</p>
<p>Here is a basic example of how a controller along with request mappings work:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/welcome"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WelcomeController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">welcomeAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"welcome all"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, only GET requests to /welcome is handled by the welcomeAll() method.</p>
<p>This annotation also can be used with Spring MVC and Spring WebFlux.</p>
<p>The @RequestMapping annotation is very versatile. Please see my in-depth post on <a href="http://springframework.guru/spring-requestmapping-annotation/" target="_blank" rel="noopener">Request Mapping here</a>.</p>
<h3 id="CookieValue"><a href="#CookieValue" class="headerlink" title="@CookieValue"></a>@CookieValue</h3><p>This annotation is used at method parameter level. @CookieValue is used as an argument of a request mapping method. The HTTP cookie is bound to the @CookieValue parameter for a given cookie name. This annotation is used in the method annotated with @RequestMapping.<br>Let us consider that the following cookie value is received with an HTTP request:</p>
<p><code>JSESSIONID=418AB76CD83EF94U85YD34W</code></p>
<p>To get the value of the cookie, use @CookieValue like this:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ReuestMapping</span>(<span class="string">"/cookieValue"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getCookieValue</span><span class="params">(@CookieValue <span class="string">"JSESSIONID"</span> String cookie)</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="CrossOrigin"><a href="#CrossOrigin" class="headerlink" title="@CrossOrigin"></a>@CrossOrigin</h3><p>This annotation is used both at the class and method levels to enable cross-origin requests. In many cases, the host that serves JavaScript will be different from the host that serves the data. In such a case, Cross Origin Resource Sharing (CORS) enables cross-domain communication. To enable this communication, you just need to add the @CrossOrigin annotation.</p>
<p>By default, the @CrossOrigin annotation allows all origin, all headers, the HTTP methods specified in the@RequestMapping annotation, and a maxAge of 30 min. You can customize the behavior by specifying the corresponding attribute values.</p>
<p>An example of using @CrossOrigin at both the controller and handler method levels is below:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CrossOrigin</span>(maxAge = <span class="number">3600</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/account"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@CrossOrigin</span>(origins = <span class="string">"http://example.com"</span>)</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/message"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/note"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Note <span class="title">getNote</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, both the getExample() and getNote() methods will have a maxAge of 3600 seconds. Also, getExample() will only allow cross-origin requests from <a href="http://example.com" target="_blank" rel="noopener">http://example.com</a>, while getNote() will allow cross-origin requests from all hosts.</p>
<h2 id="Composed-RequestMapping-Variants"><a href="#Composed-RequestMapping-Variants" class="headerlink" title="Composed @RequestMapping Variants"></a>Composed @RequestMapping Variants</h2><p>Spring framework 4.3 introduced the following method-level variants of @RequestMapping annotation to better express the semantics of the annotated methods. Using these annotations has become the standard ays of defining the endpoints. They act as wrappers to @RequestMapping.</p>
<p>These annotations can be used with Spring MVC and Spring WebFlux.</p>
<h3 id="GetMapping"><a href="#GetMapping" class="headerlink" title="@GetMapping"></a>@GetMapping</h3><p>This annotation is used for mapping HTTP GET requests onto specific handler methods. @GetMapping is a composed annotation that acts as a shortcut for @RequestMapping(method = RequestMethod.GET).</p>
<h3 id="PostMapping"><a href="#PostMapping" class="headerlink" title="@PostMapping"></a>@PostMapping</h3><p>This annotation is used for mapping HTTP POST requests onto specific handler methods. @PostMapping is a composed annotation that acts as a shortcut for @RequestMapping(method = RequestMethod.POST).</p>
<h3 id="PutMapping"><a href="#PutMapping" class="headerlink" title="@PutMapping"></a>@PutMapping</h3><p>This annotation is used for mapping HTTP PUT requests onto specific handler methods. @PutMapping is a composed annotation that acts as a shortcut for @RequestMapping(method = RequestMethod.PUT).</p>
<h3 id="PatchMapping"><a href="#PatchMapping" class="headerlink" title="@PatchMapping"></a>@PatchMapping</h3><p>This annotation is used for mapping HTTP PATCH requests onto specific handler methods. @PatchMapping is a composed annotation that acts as a shortcut for @RequestMapping(method = RequestMethod.PATCH).</p>
<h3 id="DeleteMapping"><a href="#DeleteMapping" class="headerlink" title="@DeleteMapping"></a>@DeleteMapping</h3><p>This annotation is used for mapping HTTP DELETE requests onto specific handler methods. @DeleteMapping is a composed annotation that acts as a shortcut for @RequestMapping(method = RequestMethod.DELETE).</p>
<h3 id="ExceptionHandler"><a href="#ExceptionHandler" class="headerlink" title="@ExceptionHandler"></a>@ExceptionHandler</h3><p>This annotation is used at method levels to handle exceptions at the controller level. The @ExceptionHandler annotation is used to define the class of exception it will catch. You can use this annotation on methods that should be invoked to handle an exception. The @ExceptionHandler values can be set to an array of Exception types. If an exception is thrown that matches one of the types in the list, then the method annotated with the matching @ExceptionHandler will be invoked.</p>
<h3 id="InitBinder"><a href="#InitBinder" class="headerlink" title="@InitBinder"></a>@InitBinder</h3><p>This annotation is a method-level annotation that plays the role of identifying the methods that initialize theWebDataBinder — a DataBinder that binds the request parameter to JavaBean objects. To customize request parameter data binding, you can use @InitBinder annotated methods within our controller. The methods annotated with @InitBinder includes all argument types that handler methods support.</p>
<p>The @InitBinder annotated methods will get called for each HTTP request if you don’t specify the value element of this annotation. The value element can be a single or multiple form names or request parameters that the init binder method is applied to.</p>
<h3 id="Mappings-and-Mapping"><a href="#Mappings-and-Mapping" class="headerlink" title="@Mappings and @Mapping"></a>@Mappings and @Mapping</h3><p>This annotation is used on fields. The @Mapping annotation is a meta-annotation that indicates a web mapping annotation. When mapping different field names, you need to configure the source field to its target field, and to do that, you have to add the @Mappings annotation. This annotation accepts an array of @Mapping having the source and the target fields.</p>
<h3 id="MatrixVariable"><a href="#MatrixVariable" class="headerlink" title="@MatrixVariable"></a>@MatrixVariable</h3><p>This annotation is used to annotate request handler method arguments so that Spring can inject the relevant bits of a matrix URI. Matrix variables can appear on any segment each separated by a semicolon. If a URL contains matrix variables, the request mapping pattern must represent them with a URI template. The @MatrixVariable annotation ensures that the request is matched with the correct matrix variables of the URI.</p>
<h3 id="PathVariable"><a href="#PathVariable" class="headerlink" title="@PathVariable"></a>@PathVariable</h3><p>This annotation is used to annotate request handler method arguments. The @RequestMapping annotation can be used to handle dynamic changes in the URI where a certain URI value acts as a parameter. You can specify this parameter using a regular expression. The @PathVariable annotation can be used declare this parameter.</p>
<h3 id="RequestAttribute"><a href="#RequestAttribute" class="headerlink" title="@RequestAttribute"></a>@RequestAttribute</h3><p>This annotation is used to bind the request attribute to a handler method parameter. Spring retrieves the named attribute’s value to populate the parameter annotated with @RequestAttribute. While the @RequestParamannotation is used bind the parameter values from a query string, @RequestAttribute is used to access the objects that have been populated on the server side.</p>
<h3 id="RequestBody"><a href="#RequestBody" class="headerlink" title="@RequestBody"></a>@RequestBody</h3><p>This annotation is used to annotate request handler method arguments. The @RequestBody annotation indicates that a method parameter should be bound to the value of the HTTP request body. The HttpMessageConveter is responsible for converting from the HTTP request message to object.</p>
<h3 id="RequestHeader"><a href="#RequestHeader" class="headerlink" title="@RequestHeader"></a>@RequestHeader</h3><p>This annotation is used to annotate request handler method arguments. The @RequestHeader annotation is used to map controller parameter to request header value. When Spring maps the request, @RequestHeader checks the header with the name specified within the annotation and binds its value to the handler method parameter. This annotation helps you to get the header details within the controller class.</p>
<h3 id="RequestParam"><a href="#RequestParam" class="headerlink" title="@RequestParam"></a>@RequestParam</h3><p>This annotation is used to annotate request handler method arguments. Sometimes you get the parameters in the request URL, mostly in GET requests. In that case, along with the @RequestMapping annotation, you can use the @RequestParam annotation to retrieve the URL parameter and map it to the method argument. The@RequestParam annotation is used to bind request parameters to a method parameter in your controller.</p>
<h3 id="RequestPart"><a href="#RequestPart" class="headerlink" title="@RequestPart"></a>@RequestPart</h3><p>This annotation is used to annotate request handler method arguments. The @RequestPart annotation can be used instead of @RequestParam to get the content of a specific multipart and bind it to the method argument annotated with @RequestPart. This annotation takes into consideration the “Content-Type” header in the multipart (request part).</p>
<h3 id="ResponseBody"><a href="#ResponseBody" class="headerlink" title="@ResponseBody"></a>@ResponseBody</h3><p>This annotation is used to annotate request handler methods. The @ResponseBody annotation is similar to the@RequestBody annotation. The @ResponseBody annotation indicates that the result type should be written straight in the response body in whatever format you specify like JSON or XML. Spring converts the returned object into a response body by using the HttpMessageConveter.</p>
<h3 id="ResponseStatus"><a href="#ResponseStatus" class="headerlink" title="@ResponseStatus"></a>@ResponseStatus</h3><p>This annotation is used on methods and exception classes. @ResponseStatus marks a method or exception class with a status code and a reason that must be returned. When the handler method is invoked the status code is set to the HTTP response which overrides the status information provided by any other means. A controller class can also be annotated with @ResponseStatus, which is then inherited by all @RequestMapping methods.</p>
<h3 id="ControllerAdvice"><a href="#ControllerAdvice" class="headerlink" title="@ControllerAdvice"></a>@ControllerAdvice</h3><p>This annotation is applied at the class level. As explained earlier, for each controller, you can use @ExceptionHandler on a method that will be called when a given exception occurs. But this handles only those exceptions that occur within the controller in which it is defined. To overcome this problem, you can now use the@ControllerAdvice annotation. This annotation is used to define @ExceptionHandler, @InitBinder, and @ModelAttribute methods that apply to all @RequestMapping methods. Thus, if you define the @ExceptionHandler annotation on a method in a @ControllerAdvice class, it will be applied to all the controllers.</p>
<h3 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h3><p>This annotation is used at the class level. The @RestController annotation marks the class as a controller where every method returns a domain object instead of a view. By annotating a class with this annotation, you no longer need to add @ResponseBody to all the RequestMapping methods. It means that you no long use view-resolvers or send HTML in response. You just send the domain object as an HTTP response in the format that is understood by the consumers, like JSON.</p>
<p>@RestController is a convenience annotation that combines @Controller and @ResponseBody.</p>
<h3 id="RestControllerAdvice"><a href="#RestControllerAdvice" class="headerlink" title="@RestControllerAdvice"></a>@RestControllerAdvice</h3><p>This annotation is applied to Java classes. @RestControllerAdvice is a convenience annotation that combines @ControllerAdvice and @ResponseBody. This annotation is used along with the @ExceptionHandler annotation to handle exceptions that occur within the controller.</p>
<h3 id="SessionAttribute"><a href="#SessionAttribute" class="headerlink" title="@SessionAttribute"></a>@SessionAttribute</h3><p>This annotation is used at method parameter level. The @SessionAttribute annotation is used to bind the method parameter to a session attribute. This annotation provides a convenient access to the existing or permanent session attributes.</p>
<h3 id="SessionAttributes"><a href="#SessionAttributes" class="headerlink" title="@SessionAttributes"></a>@SessionAttributes</h3><p>This annotation is applied at the type level for a specific handler. The @SessionAtrributes annotation is used when you want to add a JavaBean object into a session. This is used when you want to keep the object in session for short lived. @SessionAttributes is used in conjunction with @ModelAttribute.</p>
<p>Consider this example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ModelAttribute</span>(<span class="string">"person"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Person <span class="title">getPerson</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// within the same controller as above snippet</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@SeesionAttributes</span>(value = <span class="string">"person"</span>, types = &#123;</span><br><span class="line">    Person.class</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonController</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>The @ModelAttribute name is assigned to the @SessionAttributes as a value. The @SessionAttributes has two elements. The value element is the name of the session in the model and the types element is the type of session attributes in the model.</p>
<h2 id="Spring-Cloud-Annotations"><a href="#Spring-Cloud-Annotations" class="headerlink" title="Spring Cloud Annotations"></a>Spring Cloud Annotations</h2><h3 id="EnableConfigServer"><a href="#EnableConfigServer" class="headerlink" title="@EnableConfigServer"></a>@EnableConfigServer</h3><p>This annotation is used at the class level. When developing a project with a number of services, you need to have a centralized and straightforward manner to configure and retrieve the configurations of all the services that you are going to develop. One advantage of using a centralized config server is that you don’t need to carry the burden of remembering where each configuration is distributed across multiple and distributed components.</p>
<p>You can use Spring Cloud’s @EnableConfigServer annotation to start a config server that the other applications can talk to.</p>
<h3 id="EnableEurekaServer"><a href="#EnableEurekaServer" class="headerlink" title="@EnableEurekaServer"></a>@EnableEurekaServer</h3><p>This annotation is applied to Java classes. One problem that you may encounter while decomposing your application into microservices is that it becomes difficult for every service to know the address of every other service it depends on. There comes the discovery service which is responsible for tracking the locations of all other microservices.</p>
<p>Netflix’s Eureka is an implementation of a discovery server and integration is provided by Spring Boot. Spring Boot has made it easy to design a Eureka Server by just annotating the entry class with @EnableEurekaServer.</p>
<h3 id="EnableDiscoveryClient"><a href="#EnableDiscoveryClient" class="headerlink" title="@EnableDiscoveryClient"></a>@EnableDiscoveryClient</h3><p>This annotation is applied to Java classes. In order to tell any application to register itself with Eureka, you just need to add the @EnableDiscoveryClientannotation to the application entry point. The application that’s now registered with Eureka uses the Spring Cloud Discovery Client abstraction to interrogate the registry for its own host and port.</p>
<h3 id="EnableCircuitBreaker"><a href="#EnableCircuitBreaker" class="headerlink" title="@EnableCircuitBreaker"></a>@EnableCircuitBreaker</h3><p>This annotation is applied to Java classes that can act as the circuit breaker. The circuit breaker pattern can allow a microservice continue working when a related service fails, preventing the failure from cascading. This also gives the failed service a time to recover.</p>
<p>The class annotated with @EnableCircuitBreaker will monitor, open, and close the circuit breaker.</p>
<h3 id="HystrixCommand"><a href="#HystrixCommand" class="headerlink" title="@HystrixCommand"></a>@HystrixCommand</h3><p>This annotation is used at the method level. Netflix’s Hystrix library provides the implementation of a Circuit Breaker pattern. When you apply the circuit breaker to a method, Hystrix watches for the failures of the method. Once failures build up to a threshold, Hystrix opens the circuit so that the subsequent calls also fail. Now Hystrix redirects calls to the method, and they are passed to the specified fallback methods.</p>
<p>Hystrix looks for any method annotated with the @HystrixCommand annotation and wraps it into a proxy connected to a circuit breaker so that Hystrix can monitor it.</p>
<p>Consider the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RestTemplate restTemplate;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BookService</span><span class="params">(RestTemplate rest)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.restTemplate = rest;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@HystrixCommand</span>(fallbackMethod = <span class="string">"newList"</span>) <span class="function"><span class="keyword">public</span> String <span class="title">bookList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        URI uri = URI.create(<span class="string">"http://localhost:8081/recommended"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.restTemplate.getForObject(uri, String.class);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">newList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Cloud native Java"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here @HystrixCommand is applied to the original method bookList(). The @HystrixCommand annotation has newList as the fallback method. So for some reason, if Hystrix opens the circuit on bookList(), you will have a placeholder book list ready for the users.</p>
<h2 id="Spring-Framework-DataAccess-Annotations"><a href="#Spring-Framework-DataAccess-Annotations" class="headerlink" title="Spring Framework DataAccess Annotations"></a>Spring Framework DataAccess Annotations</h2><h3 id="Transactional"><a href="#Transactional" class="headerlink" title="@Transactional"></a>@Transactional</h3><p>This annotation is placed before an interface definition, a method on an interface, a class definition, or a public method on a class. The mere presence of @Transactional is not enough to activate the transactional behavior. The @Transactional is simply metadata that can be consumed by some runtime infrastructure. This infrastructure uses the metadata to configure the appropriate beans with transactional behavior.</p>
<p>The annotation further supports configuration like:</p>
<ul>
<li>The Propagation type of the transaction</li>
<li>The Isolation level of the transaction</li>
<li>A timeout for the operation wrapped by the transaction</li>
<li>A read-only flag — a hint for the persistence provider that the transaction must be read onlyThe rollback rules for the transaction</li>
</ul>
<h2 id="Cache-Based-Annotations"><a href="#Cache-Based-Annotations" class="headerlink" title="Cache-Based Annotations"></a>Cache-Based Annotations</h2><h3 id="Cacheable"><a href="#Cacheable" class="headerlink" title="@Cacheable"></a>@Cacheable</h3><p>This annotation is used on methods. The simplest way of enabling the cache behavior for a method is to annotate it with @Cacheable and parameterize it with the name of the cache where the results would be stored.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Cacheable</span>(<span class="string">"addresses"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">(Book book)</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>In the snippet above, the method getAddress is associated with the cache named addresses. Each time the method is called, the cache is checked to see whether the invocation has been already executed and does not have to be repeated.</p>
<h3 id="CachePut"><a href="#CachePut" class="headerlink" title="@CachePut"></a>@CachePut</h3><p>This annotation is used on methods. Whenever you need to update the cache without interfering the method execution, you can use the @CachePut annotation. That is, the method will always be executed and the result cached.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CachePut</span>(<span class="string">"addresses"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">(Book book)</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>Using @CachePut and @Cacheable on the same method is strongly discouraged, as the former forces the execution in order to execute a cache update, the latter causes the method execution to be skipped by using the cache.</p>
<h3 id="CacheEvict"><a href="#CacheEvict" class="headerlink" title="@CacheEvict"></a>@CacheEvict</h3><p>This annotation is used on methods. It is not that you always want to populate the cache with more and more data. Sometimes, you may want to remove some cache data so that you can populate the cache with some fresh values. In such a case, use the @CacheEvict annotation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CacheEvict</span>(value=<span class="string">"addresses"</span>, allEntries=<span class="string">"true"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">(Book book)</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>Here, an additional element, allEntries, is used along with the cache name to be emptied. It is set to true so that it clears all values and prepares to hold new data.</p>
<h3 id="CacheConfig"><a href="#CacheConfig" class="headerlink" title="@CacheConfig"></a>@CacheConfig</h3><p>This annotation is a class level annotation. The @CacheConfig annotation helps to streamline some of the cache information at one place. Placing this annotation on a class does not turn on any caching operation. This allows you to store the cache configuration at the class level so that you don’t have to declare things multiple times.</p>
<h2 id="Task-Execution-and-Scheduling-Annotations"><a href="#Task-Execution-and-Scheduling-Annotations" class="headerlink" title="Task Execution and Scheduling Annotations"></a>Task Execution and Scheduling Annotations</h2><h3 id="Scheduled"><a href="#Scheduled" class="headerlink" title="@Scheduled"></a>@Scheduled</h3><p>This annotation is a method-level annotation. The @Scheduled annotation is used on methods along with the trigger metadata. A method with @Scheduled should have a void return type and should not accept any parameters.</p>
<p>There are different ways of using the @Scheduled annotation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(fixedDelay=<span class="number">5000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// something that should execute periodically   </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this case, the duration between the end of the last execution and the start of the next execution is fixed. The tasks always wait until the previous one is finished.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(fixedRate=<span class="number">5000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="comment">// something that should execute periodically </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this case, the beginning of the task execution does not wait for the completion of the previous execution.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(initialDelay=<span class="number">1000</span>,fixedRate=<span class="number">5000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123; </span><br><span class="line">   <span class="comment">// something that should execute periodically after an initial delay  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The task gets executed initially with a delay and then continues with the specified fixed rate.</p>
<h3 id="Async"><a href="#Async" class="headerlink" title="@Async"></a>@Async</h3><p>This annotation is used on methods to execute each method in a separate thread. The @Async annotation is provided on a method so that the invocation of that method will occur asynchronously. Unlike methods annotated with @Scheduled, the methods annotated with @Async can take arguments. They will be invoked in the normal way by callers at runtime rather than by a scheduled task.</p>
<p>@Async can be used with both void return type methods and methods that return a value. However, methods with return values must have a Future-typed return value.</p>
<h2 id="Spring-Framework-Testing-Annotations"><a href="#Spring-Framework-Testing-Annotations" class="headerlink" title="Spring Framework Testing Annotations"></a>Spring Framework Testing Annotations</h2><h3 id="BootstrapWith"><a href="#BootstrapWith" class="headerlink" title="@BootstrapWith"></a>@BootstrapWith</h3><p>This annotation is a class-level annotation. The @BootstrapWith annotation is used to configure how the Spring TestContext Framework is bootstrapped. This annotation is used as a metadata to create custom composed annotations and reduce the configuration duplication in a test suite.</p>
<h3 id="ContextConfiguration"><a href="#ContextConfiguration" class="headerlink" title="@ContextConfiguration"></a>@ContextConfiguration</h3><p>This annotation is a class level annotation that defines a metadata used to determine which configuration files to use to the load the ApplicationContext for your test. More specifically @ContextConfiguration declares the annotated classes that will be used to load the context. You can also tell Spring where to locate the file.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ContextConfiguration</span>(locations=&#123;<span class="string">"example/test-context.xml"</span>, loader = Custom ContextLoader.class&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="WebAppConfiguration"><a href="#WebAppConfiguration" class="headerlink" title="@WebAppConfiguration"></a>@WebAppConfiguration</h3><p>This annotation is a class level annotation. The @WebAppConfiguration is used to declare that the ApplicationContext loaded for an integration test should be a WebApplicationContext. This annotation is used to create the web version of the application context. It is important to note that this annotation must be used with the @ContextConfiguration annotation. The default path to the root of the web application is src/main/webapp. You can override it by passing a different path to the <span class="theme:classic lang:default decode:true crayon-inline">@WebAppConfiguration.</span></p>
<h3 id="Timed"><a href="#Timed" class="headerlink" title="@Timed"></a>@Timed</h3><p>This annotation is used on methods. The @Timed annotation indicates that the annotated test method must finish its execution at the specified time period (in milliseconds). If the execution exceeds the specified time in the annotation, the test fails.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Timed</span>(millis=<span class="number">10000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testLongRunningProcess</span><span class="params">()</span> </span>&#123;  ... &#125;</span><br></pre></td></tr></table></figure>
<p>In this example, the test will fail if it exceeds 10 seconds of execution.</p>
<h3 id="Repeat"><a href="#Repeat" class="headerlink" title="@Repeat"></a>@Repeat</h3><p>This annotation is used on test methods. If you want to run a test method several times in a row automatically, you can use the @Repeat annotation. The number of times that test method is to be executed is specified in the annotation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repeat</span>(<span class="number">10</span>)</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testProcessRepeatedly</span><span class="params">()</span> </span>&#123;  ... &#125;</span><br></pre></td></tr></table></figure>
<p>In this example, the test will be executed 10 times.</p>
<h3 id="Commit"><a href="#Commit" class="headerlink" title="@Commit"></a>@Commit</h3><p>This annotation can be used as both class-level or method-level annotation. After execution of a test method, the transaction of the transactional test method can be committed using the @Commit annotation. This annotation explicitly conveys the intent of the code. When used at the class level, this annotation defines the commit for all test methods within the class. When declared as a method level annotation, @Commit specifies the commit for specific test methods overriding the class level commit.</p>
<h3 id="RollBack"><a href="#RollBack" class="headerlink" title="@RollBack"></a>@RollBack</h3><p>This annotation can be used as both class-level and method-level annotation. The @RollBack annotation indicates whether the transaction of a transactional test method must be rolled back after the test completes its execution. If this true, @Rollback(true), the transaction is rolled back. Otherwise, the transaction is committed. @Commit is used instead of @RollBack(false).</p>
<p>When used at the class level, this annotation defines the rollback for all test methods within the class.</p>
<p>When declared as a method level annotation, @RollBack specifies the rollback for specific test methods overriding the class level rollback semantics.</p>
<h3 id="DirtiesContext"><a href="#DirtiesContext" class="headerlink" title="@DirtiesContext"></a>@DirtiesContext</h3><p>This annotation is used as both class-level and method-level annotation. @DirtiesContext indicates that the Spring ApplicationContext has been modified or corrupted in some manner and it should be closed. This will trigger the context reloading before execution of next test. The ApplicationContext is marked as dirty before or after any such annotated method as well as before or after current test class.</p>
<p>The @DirtiesContext annotation supports BEFORE_METHOD, BEFORE_CLASS, and BEFORE_EACH_TEST_METHOD modes for closing the ApplicationContext before a test.</p>
<p><strong>NOTE</strong>: Avoid overusing this annotation. It is an expensive operation and if abused, it can really slow down your test suite.</p>
<h3 id="BeforeTransaction"><a href="#BeforeTransaction" class="headerlink" title="@BeforeTransaction"></a>@BeforeTransaction</h3><p>This annotation is used to annotate void methods in the test class. @BeforeTransaction annotated methods indicate that they should be executed before any transaction starts executing. That means the method annotated with @BeforeTransaction must be executed before any method annotated with @Transactional.</p>
<h3 id="AfterTransaction"><a href="#AfterTransaction" class="headerlink" title="@AfterTransaction"></a>@AfterTransaction</h3><p>This annotation is used to annotate void methods in the test class. @AfterTransaction annotated methods indicate that they should be executed after a transaction ends for test methods. That means the method annotated with @AfterTransaction must be executed after the method annotated with @Transactional.</p>
<h3 id="Sql"><a href="#Sql" class="headerlink" title="@Sql"></a>@Sql</h3><p>This annotation can be declared on a test class or test method to run SQL scripts against a database. The @Sql annotation configures the resource path to SQL scripts that should be executed against a given database either before or after an integration test method. When @Sql is used at the method level it, will override any @Sqldefined in at class level.</p>
<h3 id="SqlConfig"><a href="#SqlConfig" class="headerlink" title="@SqlConfig"></a>@SqlConfig</h3><p>This annotation is used along with the @Sql annotation. The @SqlConfig annotation defines the metadata that is used to determine how to parse and execute SQL scripts configured via the @Sql annotation. When used at the class level, this annotation serves as global configuration for all SQL scripts within the test class. But when used directly with the config attribute of @Sql, @SqlConfig serves as a local configuration for SQL scripts declared.</p>
<h3 id="SqlGroup"><a href="#SqlGroup" class="headerlink" title="@SqlGroup"></a>@SqlGroup</h3><p>This annotation is used on methods. The @SqlGroup annotation is a container annotation that can hold several@Sql annotations. This annotation can declare nested @Sql annotations.<br>In addition, @SqlGroup is used as a meta-annotation to create custom composed annotations. This annotation can also be used along with repeatable annotations, where @Sql can be declared several times on the same method or class.</p>
<h3 id="SpringBootTest"><a href="#SpringBootTest" class="headerlink" title="@SpringBootTest"></a>@SpringBootTest</h3><p>This annotation is used to start the Spring context for integration tests. This will bring up the full autoconfigruation context.</p>
<h3 id="DataJpaTest"><a href="#DataJpaTest" class="headerlink" title="@DataJpaTest"></a>@DataJpaTest</h3><p>The @DataJpaTest annotation will only provide the autoconfiguration required to test Spring Data JPA using an in-memory database such as H2.</p>
<p>This annotation is used instead of @SpringBootTest</p>
<h3 id="DataMongoTest"><a href="#DataMongoTest" class="headerlink" title="@DataMongoTest"></a>@DataMongoTest</h3><p>The @DataMongoTest will provide a minimal autoconfiguration and an embedded MongoDB for running integration tests with Spring Data MongoDB.</p>
<h3 id="WebMVCTest"><a href="#WebMVCTest" class="headerlink" title="@WebMVCTest"></a>@WebMVCTest</h3><p>The @WebMVCTest will bring up a mock servlet context for testing the MVC layer. Services and components are not loaded into the context. To provide these dependencies for testing, the @MockBean annotation is typically used.</p>
<h3 id="AutoConfigureMockMVC"><a href="#AutoConfigureMockMVC" class="headerlink" title="@AutoConfigureMockMVC"></a>@AutoConfigureMockMVC</h3><p>The @AutoConfigureMockMVC annotation works very similarly to the @WebMVCTest annotation, but the full Spring Boot context is started.</p>
<h3 id="MockBean"><a href="#MockBean" class="headerlink" title="@MockBean"></a>@MockBean</h3><p>Creates and injects a Mockito Mock for the given dependency.</p>
<h3 id="JsonTest"><a href="#JsonTest" class="headerlink" title="@JsonTest"></a>@JsonTest</h3><p>Will limit the auto-configuration of Spring Boot to components relevant to processing JSON.</p>
<p>This annotation will also autoconfigure an instance of <a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/json/JacksonTester.html" target="_blank" rel="noopener">JacksonTester</a> or <a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/json/GsonTester.html" target="_blank" rel="noopener">GsonTester</a>.</p>
<h3 id="TestPropertySource"><a href="#TestPropertySource" class="headerlink" title="@TestPropertySource"></a>@TestPropertySource</h3><p>Class level annotation used to specify property sources for the test class.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/19/git-cheatsheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/git-cheatsheet/" itemprop="url">git-cheatsheet</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T14:13:26+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/git/" itemprop="url" rel="index">
                    <span itemprop="name">git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>GIT INSTALLATION</li>
</ul>
<p>For GNU/Linux distributions Git should be available in the standard system repository. For example in Debian/Ubuntu please type in the terminal:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install git</span><br></pre></td></tr></table></figure></p>
<p>If you want or need to install Git from source, you can get it from <a href="https://git-scm.com/downloads" target="_blank" rel="noopener">https://git-scm.com/downloads</a>.<br>An excellent Git course can be found in the great Pro Git book by Scott Chacon and Ben Straub. The book is available online for free at <a href="https://git-scm.com/book" target="_blank" rel="noopener">https://git-scm.com/book</a>.</p>
<ul>
<li>GIT CONFIGURATION</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;Your Name&quot;</span><br></pre></td></tr></table></figure>
<p>Set the name that will be attached to your commits and tags.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.email &quot;you@example.com&quot;</span><br></pre></td></tr></table></figure>
<p>Set the e-mail address that will be attached to your commits and tags.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global color.ui auto</span><br></pre></td></tr></table></figure>
<p>Enable some colorization of Git output.</p>
<ul>
<li>STARTING A PROJECT</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init [project name]</span><br></pre></td></tr></table></figure>
<p>Create new local repository. If [project name] is provided, Git will createa new directory named [project name] and will initialize a repository inside it.If [project name] is not provided, then a new repository is initialized in currentdirectory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone [project url]</span><br></pre></td></tr></table></figure>
<p>Downloads a project with entire history from the remote repository.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote set-url subrepo/common ssh://git@code.gongyuanhezi.cn:8001/iot/common.git</span><br></pre></td></tr></table></figure>
<p>Change remote url</p>
<ul>
<li>IGNORING FILES</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cat .gitignore</span><br><span class="line">/logs/*</span><br><span class="line">!logs/.gitkeep</span><br><span class="line">/tmp</span><br><span class="line">*.swp</span><br></pre></td></tr></table></figure>
<p>Thanks to this file Git will ignore all files in logs directory (excludingthe .gitkeep file), whole tmp directory and all files *.swp. Described fileignoring will work for the directory (and children directories) where .gitignorefile is placed.            </p>
<ul>
<li>DAY-TO-DAY WORK<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>See the status of your work. New, staged, modified files. Current branch.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff [file]</span><br></pre></td></tr></table></figure>
<p>Show changes between working directory and staging area.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --staged [file]</span><br></pre></td></tr></table></figure>
<p>Shows changes in the staging area that haven’t been commited.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- [file]</span><br></pre></td></tr></table></figure>
<p>Discard changes in working directory. This operation is unrecoverable.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add [file]</span><br></pre></td></tr></table></figure>
<p>Add a file to the staging area. Use . instead of full file path, to add allchanges files from current directory down into directory tree.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset [file]</span><br></pre></td></tr></table></figure>
<p>Get file back from staging area to working directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit [-m &quot;message here&quot;]</span><br></pre></td></tr></table></figure>
<p>Create new commit from changes added to the staging area. Commit musthave a message! You can provide it by -m. Otherways $EDITOR will be opened.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rm [file]</span><br></pre></td></tr></table></figure>
<p>Remove file from working directory and add deletion to staging area.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash</span><br></pre></td></tr></table></figure>
<p>Put your current changes into stash.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure>
<p>Apply stored stash content into working directory, and clear stash.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash drop</span><br></pre></td></tr></table></figure></p>
<p>Clear stash without applying it into working directory.</p>
<ul>
<li>GIT BRANCHING MODEL</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch [-a]</span><br></pre></td></tr></table></figure>
<p>List all local branches in repository. With -a: show all branches (with remote).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch [name]</span><br></pre></td></tr></table></figure>
<p>Create new branch, referencing the current HEAD.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout [-b] [name]</span><br></pre></td></tr></table></figure>
<p>Switch working directory to the specified branch. With -b: Git will create thespecified branch if it does not exist.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git merge [from name]</span><br><span class="line">$ git merge -X theirs develop // merge from develop, if conflicted, follow develop</span><br><span class="line"></span><br><span class="line">git merge -X ours origin/protocolExtend20180409</span><br><span class="line"></span><br><span class="line">git merge --abort</span><br></pre></td></tr></table></figure>
<p>Join specified [from name] branch into your current branch (the one you areon currenlty).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d [name]</span><br></pre></td></tr></table></figure>
<p>Remove selected branch, if it is already merged into any other. -D instead of-d forces deletion.</p>
<ul>
<li>REVIEW YOUR WORK</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log [-n count]</span><br></pre></td></tr></table></figure>
<p>List commit history of current branch. -n count limits list to last n commits.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --oneline --graph --decorate</span><br></pre></td></tr></table></figure>
<p>An overview with references labels and history graph. One commit per line.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log ref..</span><br></pre></td></tr></table></figure>
<p>List commits that are present on current branch and not merged into ref.A ref can be e.g. a branch name or a tag name.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log ..ref</span><br></pre></td></tr></table></figure>
<p>List commit, that are present on ref and not merged into current branch.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br></pre></td></tr></table></figure>
<p>List operations (like checkouts, commits etc.) made on local repository.</p>
<ul>
<li>TAGGING KNOWN COMMITS</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag</span><br></pre></td></tr></table></figure>
<p>List all tags.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag [name][commit sha]</span><br></pre></td></tr></table></figure></p>
<p>Create a tag object named name for current commit.Add commit sha to tag a specific commit instead of current one.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -a [name] [commit sha]</span><br></pre></td></tr></table></figure>
<p>Create a tag object named name for current commit.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d [name]</span><br></pre></td></tr></table></figure>
<p>Remove a tag from a local repository.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master &amp;&amp; git push --tags</span><br></pre></td></tr></table></figure>
<p>Push commit to origin master and push all tags</p>
<ul>
<li>REVERTING CHANGES</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset [--hard] [target reference]</span><br></pre></td></tr></table></figure>
<p>Switch current branch to the target reference, and leaves a difference as anuncommited changes. When –hard is used, all changes are discarded.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git revert [commit sha]</span><br></pre></td></tr></table></figure>
<ul>
<li>SYNCHRONIZING REPOSITORIES</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch [remote]</span><br><span class="line"></span><br><span class="line">git fetch -p</span><br></pre></td></tr></table></figure>
<p>Fetch changes from the remote, but not update tracking branches.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch --prune [remote]</span><br></pre></td></tr></table></figure>
<p>Remove remote refs, that were removed from the remote repository.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git pull [remote]</span><br><span class="line">$ git pull --all // pull all branch from remote</span><br><span class="line">git pull --rebase</span><br></pre></td></tr></table></figure>
<p>Fetch changes from the remote and merge current branch with its upstream.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push [--tags] [remote]</span><br></pre></td></tr></table></figure>
<p>Push local changes to the remote. Use –tags to push tags.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u [remote] [branch]</span><br></pre></td></tr></table></figure>
<p>Push local branch to remote repository. Set its copy as an upstream.</p>
<ul>
<li>git subrepo</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git subrepo status</span><br></pre></td></tr></table></figure>
<p>Show subrepo status</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git subrepo init common -r ssh://git@code.gongyuanhezi.cn:8001/iot/common.git</span><br></pre></td></tr></table></figure>
<p>Init remote repo <code>common</code> as subrepo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git subrepo pull common</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git subrepo push common</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>command</th>
<th>explain</th>
</tr>
</thead>
<tbody>
<tr>
<td>commit</td>
<td>an object</td>
</tr>
<tr>
<td>branch</td>
<td>a reference to a commit; can have a tracked upstream</td>
</tr>
<tr>
<td>tag</td>
<td>a reference (standard) or an object (annotated)</td>
</tr>
<tr>
<td>HEAD</td>
<td>a place where your working directory is now</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/19/linux-dmesg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/linux-dmesg/" itemprop="url">linux-dmesg</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T13:19:04+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The ‘<strong>dmesg</strong>‘ command displays the messages from the kernel ring buffer. A system passes multiple runlevel from where we can get lot of information like system architecture, cpu, attached device, RAM etc. When computer boots up, a kernel (core of an operating system) is loaded into memory. During that period number of messages are being displayed where we can see hardware devices detected by kernel.</p>
<p>The messages are very important in terms of diagnosing purpose in case of device failure. When we connect or disconnect hardware device on the system, with the help of dmesg command we come to know detected or disconnected information on the fly. The <strong>dmesg</strong> command is available on most <strong>Linux and Unix</strong> based Operating System.</p>
<p>Let’s throw some light on most famous tool called ‘dmesg’ command with their practical examples as discussed below. The exact syntax of dmesg as follows.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># dmseg [options...]</span><br></pre></td></tr></table></figure>
<h3 id="1-List-all-loaded-Drivers-in-Kernel"><a href="#1-List-all-loaded-Drivers-in-Kernel" class="headerlink" title="1. List all loaded Drivers in Kernel"></a>1. List all loaded Drivers in Kernel</h3><p>We can use text-manipulation tools i.e. ‘<strong>more</strong>‘, ‘<strong>tail</strong>‘, ‘<strong>less</strong>‘ or ‘<strong>grep</strong>‘ with dmesg command. As output of dmesg log won’t fit on a single page, using dmesg with pipe more or less command will display logs in a single page.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com ~]# dmesg | more</span><br><span class="line">[root@tecmint.com ~]# dmesg | less</span><br></pre></td></tr></table></figure>
<h5 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[    0.000000] Initializing cgroup subsys cpuset</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpu</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpuacct</span><br><span class="line">[    0.000000] Linux version 3.11.0-13-generic (buildd@aatxe) (gcc version 4.8.1 (Ubuntu/Linaro 4.8.1-10ubuntu8) ) #20-Ubuntu SMP Wed Oct 23 17:26:33 UTC 2013 </span><br><span class="line">(Ubuntu 3.11.0-13.20-generic 3.11.6)</span><br><span class="line">[    0.000000] KERNEL supported cpus:</span><br><span class="line">[    0.000000]   Intel GenuineIntel</span><br><span class="line">[    0.000000]   AMD AuthenticAMD</span><br><span class="line">[    0.000000]   NSC Geode by NSC</span><br><span class="line">[    0.000000]   Cyrix CyrixInstead</span><br><span class="line">[    0.000000]   Centaur CentaurHauls</span><br><span class="line">[    0.000000]   Transmeta GenuineTMx86</span><br><span class="line">[    0.000000]   Transmeta TransmetaCPU</span><br><span class="line">[    0.000000]   UMC UMC UMC UMC</span><br><span class="line">[    0.000000] e820: BIOS-provided physical RAM map:</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007dc08bff] usable</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x000000007dc08c00-0x000000007dc5cbff] ACPI NVS</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x000000007dc5cc00-0x000000007dc5ebff] ACPI data</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x000000007dc5ec00-0x000000007fffffff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000e0000000-0x00000000efffffff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fed003ff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000fed20000-0x00000000fed9ffff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000fee00000-0x00000000feefffff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000ffb00000-0x00000000ffffffff] reserved</span><br><span class="line">[    0.000000] NX (Execute Disable) protection: active</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>
<p><strong>Read Also</strong>: <a href="https://www.tecmint.com/view-contents-of-file-in-linux/" target="_blank" rel="noopener">Manage Linux Files Effectively using commands head, tail and cat</a></p>
<h3 id="2-List-all-Detected-Devices"><a href="#2-List-all-Detected-Devices" class="headerlink" title="2. List all Detected Devices"></a>2. List all Detected Devices</h3><p>To discover which hard disks has been detected by kernel, you can search for the keyword “<strong>sda</strong>” along with “<strong>grep</strong>” like shown below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com ~]# dmesg | grep sda</span><br><span class="line">[    1.280971] sd 2:0:0:0: [sda] 488281250 512-byte logical blocks: (250 GB/232 GiB)</span><br><span class="line">[    1.281014] sd 2:0:0:0: [sda] Write Protect is off</span><br><span class="line">[    1.281016] sd 2:0:0:0: [sda] Mode Sense: 00 3a 00 00</span><br><span class="line">[    1.281039] sd 2:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&apos;t support DPO or FUA</span><br><span class="line">[    1.359585]  sda: sda1 sda2 &lt; sda5 sda6 sda7 sda8 &gt;</span><br><span class="line">[    1.360052] sd 2:0:0:0: [sda] Attached SCSI disk</span><br><span class="line">[    2.347887] EXT4-fs (sda1): mounted filesystem with ordered data mode. Opts: (null)</span><br><span class="line">[   22.928440] Adding 3905532k swap on /dev/sda6.  Priority:-1 extents:1 across:3905532k FS</span><br><span class="line">[   23.950543] EXT4-fs (sda1): re-mounted. Opts: errors=remount-ro</span><br><span class="line">[   24.134016] EXT4-fs (sda5): mounted filesystem with ordered data mode. Opts: (null)</span><br><span class="line">[   24.330762] EXT4-fs (sda7): mounted filesystem with ordered data mode. Opts: (null)</span><br><span class="line">[   24.561015] EXT4-fs (sda8): mounted filesystem with ordered data mode. Opts: (null)</span><br></pre></td></tr></table></figure>
<p><strong>NOTE</strong>: The ‘sda’ first SATA hard drive, ‘sdb’ is the second SATA hard drive and so on. Search with ‘hda’ or ‘hdb’ in the case of IDE hard drive.</p>
<h3 id="3-Print-Only-First-20-Lines-of-Output"><a href="#3-Print-Only-First-20-Lines-of-Output" class="headerlink" title="3. Print Only First 20 Lines of Output"></a>3. Print Only First 20 Lines of Output</h3><p>The ‘head’ along with dmesg will show starting lines i.e. ‘dmesg | head -20’ will print only 20 lines from the starting point.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com ~]# dmesg | head  -20</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpuset</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpu</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpuacct</span><br><span class="line">[    0.000000] Linux version 3.11.0-13-generic (buildd@aatxe) (gcc version 4.8.1 (Ubuntu/Linaro 4.8.1-10ubuntu8) ) #20-Ubuntu SMP Wed Oct 23 17:26:33 UTC 2013 (Ubuntu 3.11.0-13.20-generic 3.11.6)</span><br><span class="line">[    0.000000] KERNEL supported cpus:</span><br><span class="line">[    0.000000]   Intel GenuineIntel</span><br><span class="line">[    0.000000]   AMD AuthenticAMD</span><br><span class="line">[    0.000000]   NSC Geode by NSC</span><br><span class="line">[    0.000000]   Cyrix CyrixInstead</span><br><span class="line">[    0.000000]   Centaur CentaurHauls</span><br><span class="line">[    0.000000]   Transmeta GenuineTMx86</span><br><span class="line">[    0.000000]   Transmeta TransmetaCPU</span><br><span class="line">[    0.000000]   UMC UMC UMC UMC</span><br><span class="line">[    0.000000] e820: BIOS-provided physical RAM map:</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007dc08bff] usable</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x000000007dc08c00-0x000000007dc5cbff] ACPI NVS</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x000000007dc5cc00-0x000000007dc5ebff] ACPI data</span><br><span class="line">[    0.000000] BIOS-e820: [mem 0x000000007dc5ec00-0x000000007fffffff] reserved</span><br></pre></td></tr></table></figure>
<h3 id="4-Print-Only-Last-20-Lines-of-Output"><a href="#4-Print-Only-Last-20-Lines-of-Output" class="headerlink" title="4. Print Only Last 20 Lines of Output"></a>4. Print Only Last 20 Lines of Output</h3><p>The ‘tail’ along with dmesg command will print only 20 last lines, this is useful in case we insert removable device.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com ~]# dmesg | tail -20</span><br><span class="line">parport0: PC-style at 0x378, irq 7 [PCSPP,TRISTATE]</span><br><span class="line">ppdev: user-space parallel port driver</span><br><span class="line">EXT4-fs (sda1): mounted filesystem with ordered data mode</span><br><span class="line">Adding 2097144k swap on /dev/sda2.  Priority:-1 extents:1 across:2097144k</span><br><span class="line">readahead-disable-service: delaying service auditd</span><br><span class="line">ip_tables: (C) 2000-2006 Netfilter Core Team</span><br><span class="line">nf_conntrack version 0.5.0 (16384 buckets, 65536 max)</span><br><span class="line">NET: Registered protocol family 10</span><br><span class="line">lo: Disabled Privacy Extensions</span><br><span class="line">e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: None</span><br><span class="line">Slow work thread pool: Starting up</span><br><span class="line">Slow work thread pool: Ready</span><br><span class="line">FS-Cache: Loaded</span><br><span class="line">CacheFiles: Loaded</span><br><span class="line">CacheFiles: Security denies permission to nominate security context: error -95</span><br><span class="line">eth0: no IPv6 routers present</span><br><span class="line">type=1305 audit(1398268784.593:18630): audit_enabled=0 old=1 auid=4294967295 ses=4294967295 res=1</span><br><span class="line">readahead-collector: starting delayed service auditd</span><br><span class="line">readahead-collector: sorting</span><br><span class="line">readahead-collector: finished</span><br></pre></td></tr></table></figure>
<h3 id="5-Search-Detected-Device-or-Particular-String"><a href="#5-Search-Detected-Device-or-Particular-String" class="headerlink" title="5. Search Detected Device or Particular String"></a>5. Search Detected Device or Particular String</h3><p>It’s difficult to search particular string due to length of dmesg output. So, filter the lines with are having string like ‘<strong>usb</strong>‘ ‘<strong>dma</strong>‘ ‘<strong>tty</strong>‘ and ‘<strong>memory</strong>‘ etc. The ‘-i’ option instruct to <a href="https://www.tecmint.com/12-practical-examples-of-linux-grep-command/" target="_blank" rel="noopener">grep command</a> to ignore the case (upper or lower case letters).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com log]# dmesg | grep -i usb</span><br><span class="line">[root@tecmint.com log]# dmesg | grep -i dma</span><br><span class="line">[root@tecmint.com log]# dmesg | grep -i tty</span><br><span class="line">[root@tecmint.com log]# dmesg | grep -i memory</span><br></pre></td></tr></table></figure>
<h5 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output"></a>Sample Output</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[    0.000000] Scanning 1 areas for low memory corruption</span><br><span class="line">[    0.000000] initial memory mapped: [mem 0x00000000-0x01ffffff]</span><br><span class="line">[    0.000000] Base memory trampoline at [c009b000] 9b000 size 16384</span><br><span class="line">[    0.000000] init_memory_mapping: [mem 0x00000000-0x000fffff]</span><br><span class="line">[    0.000000] init_memory_mapping: [mem 0x37800000-0x379fffff]</span><br><span class="line">[    0.000000] init_memory_mapping: [mem 0x34000000-0x377fffff]</span><br><span class="line">[    0.000000] init_memory_mapping: [mem 0x00100000-0x33ffffff]</span><br><span class="line">[    0.000000] init_memory_mapping: [mem 0x37a00000-0x37bfdfff]</span><br><span class="line">[    0.000000] Early memory node ranges</span><br><span class="line">[    0.000000] PM: Registered nosave memory: [mem 0x0009f000-0x000effff]</span><br><span class="line">[    0.000000] PM: Registered nosave memory: [mem 0x000f0000-0x000fffff]</span><br><span class="line">[    0.000000] please try &apos;cgroup_disable=memory&apos; option if you don&apos;t want memory cgroups</span><br><span class="line">[    0.000000] Memory: 2003288K/2059928K available (6352K kernel code, 607K rwdata, 2640K rodata, 880K init, 908K bss, 56640K reserved, 1146920K highmem)</span><br><span class="line">[    0.000000] virtual kernel memory layout:</span><br><span class="line">[    0.004291] Initializing cgroup subsys memory</span><br><span class="line">[    0.004609] Freeing SMP alternatives memory: 28K (c1a3e000 - c1a45000)</span><br><span class="line">[    0.899622] Freeing initrd memory: 23616K (f51d0000 - f68e0000)</span><br><span class="line">[    0.899813] Scanning for low memory corruption every 60 seconds</span><br><span class="line">[    0.946323] agpgart-intel 0000:00:00.0: detected 32768K stolen memory</span><br><span class="line">[    1.360318] Freeing unused kernel memory: 880K (c1962000 - c1a3e000)</span><br><span class="line">[    1.429066] [drm] Memory usable by graphics device = 2048M</span><br></pre></td></tr></table></figure>
<h3 id="6-Clear-dmesg-Buffer-Logs"><a href="#6-Clear-dmesg-Buffer-Logs" class="headerlink" title="6. Clear dmesg Buffer Logs"></a>6. Clear dmesg Buffer Logs</h3><p>Yes, we can clear dmesg logs if required with below command. It will clear dmesg ring buffer message logs till you executed the command below. Still you can view logs stored in ‘<strong>/var/log/dmesg</strong>‘ files. If you connect any device will generate dmesg output.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com log]# dmesg -c</span><br></pre></td></tr></table></figure>
<h3 id="7-Monitoring-dmesg-in-Real-Time"><a href="#7-Monitoring-dmesg-in-Real-Time" class="headerlink" title="7. Monitoring dmesg in Real Time"></a>7. Monitoring dmesg in Real Time</h3><p>Some distro allows command ‘tail -f /var/log/dmesg’ as well for real time dmesg monitoring.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@tecmint.com log]# watch &quot;dmesg | tail -20&quot;</span><br></pre></td></tr></table></figure>
<p><strong>Conclusion</strong>: The dmesg command is useful as dmesg records all the system changes done or occur in real time. As always you can <strong>man dmesg</strong> to get more information.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/19/linux-ps/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/linux-ps/" itemprop="url">linux-ps</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T13:03:46+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>ps</strong> (<strong>processes status</strong>) is a native Unix/Linux utility for viewing information concerning a selection of running processes on a system: it reads this information from the virtual files in <a href="https://www.tecmint.com/exploring-proc-file-system-in-linux/" target="_blank" rel="noopener">/proc filesystem</a>. It is one of the important utilities for system administration specifically under process monitoring, to help you understand whats is going on a Linux system.</p>
<p>It has numerous options for manipulating its output, however you’ll find a small number of them practically useful for daily usage.</p>
<p>In this article, we’ll look at 30 useful examples of ps commands for monitoring active running processes on a Linux system.</p>
<p>Note that <strong>ps</strong> produces output with a heading line, which represents the meaning of each column of information, you can find the meaning of all the labels in the <strong>ps man page</strong>.</p>
<h3 id="List-All-Processes-in-Current-Shell"><a href="#List-All-Processes-in-Current-Shell" class="headerlink" title="List All Processes in Current Shell"></a>List All Processes in Current Shell</h3><p><strong>1.</strong> If you run <strong>ps command</strong> without any arguments, it displays processes for the current shell.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps</span><br></pre></td></tr></table></figure>
<p>List Current Running Processes</p>
<h3 id="Print-All-Processes-in-Different-Formats"><a href="#Print-All-Processes-in-Different-Formats" class="headerlink" title="Print All Processes in Different Formats"></a>Print All Processes in Different Formats</h3><p><strong>2.</strong> Display every active process on a Linux system in generic (Unix/Linux) format.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -A</span><br><span class="line">OR</span><br><span class="line">$ ps -e</span><br></pre></td></tr></table></figure>
<p>List Processes in Standard Format</p>
<p><strong>3.</strong> Display all processes in <strong>BSD</strong> format.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps au</span><br><span class="line">OR</span><br><span class="line">$ ps axu</span><br></pre></td></tr></table></figure>
<p>List Processes in BSD Format</p>
<p><strong>4.</strong> To perform a full-format listing, add the <code>-f</code> or <code>-F</code> flag.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -ef</span><br><span class="line">OR</span><br><span class="line">$ ps -eF</span><br></pre></td></tr></table></figure>
<p>List Processes in Long List Format</p>
<h3 id="Display-User-Running-Processes"><a href="#Display-User-Running-Processes" class="headerlink" title="Display User Running Processes"></a>Display User Running Processes</h3><p><strong>5.</strong> You can select all processes owned by you (runner of the <strong>ps command</strong>, root in this case), type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -x</span><br></pre></td></tr></table></figure>
<p><strong>6.</strong> To display a user’s processes by real user ID (<strong>RUID</strong>) or name, use the <code>-U</code> flag.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fU tecmint</span><br><span class="line">OR</span><br><span class="line">$ ps -fu 1000</span><br></pre></td></tr></table></figure>
<p>List User Processes by ID</p>
<p><strong>7.</strong> To select a user’s processes by effective user <strong>ID</strong> (<strong>EUID</strong>) or name, use the <code>-u</code> option.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fu tecmint</span><br><span class="line">OR</span><br><span class="line">$ ps -fu 1000</span><br></pre></td></tr></table></figure>
<h3 id="Print-All-Processes-Running-as-Root-Real-and-Effecitve-ID"><a href="#Print-All-Processes-Running-as-Root-Real-and-Effecitve-ID" class="headerlink" title="Print All Processes Running as Root (Real and Effecitve ID)"></a>Print All Processes Running as Root (Real and Effecitve ID)</h3><p><strong>8.</strong> The command below enables you to view every process running with <strong>root</strong> user privileges (real &amp; effective ID) in user format.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -U root -u root</span><br></pre></td></tr></table></figure>
<p>Display Root User Running Processes</p>
<h3 id="Display-Group-Processes"><a href="#Display-Group-Processes" class="headerlink" title="Display Group Processes"></a>Display Group Processes</h3><p><strong>9.</strong> If you want to list all processes owned by a certain group (real group ID (<strong>RGID</strong>) or name), type.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fG apache</span><br><span class="line">OR</span><br><span class="line">$ ps -fG 48</span><br></pre></td></tr></table></figure>
<p>Display Group Processes</p>
<p><strong>10.</strong> To list all processes owned by effective group name (or session), type.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fg apache</span><br></pre></td></tr></table></figure>
<h3 id="Display-Processes-by-PID-and-PPID"><a href="#Display-Processes-by-PID-and-PPID" class="headerlink" title="Display Processes by PID and PPID"></a>Display Processes by PID and PPID</h3><p><strong>11.</strong> You can list processes by <strong>PID</strong> as follows.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fp 1178</span><br></pre></td></tr></table></figure>
<p>List Processes by PID</p>
<p><strong>12.</strong> To select process by <strong>PPID</strong>, type.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -f --ppid 1154</span><br></pre></td></tr></table></figure>
<p>List Process by PPID</p>
<p><strong>13.</strong> Make selection using <strong>PID</strong> list.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fp 2226,1154,1146</span><br></pre></td></tr></table></figure>
<p>List Processes by PIDs</p>
<h3 id="Display-Processes-by-TTY"><a href="#Display-Processes-by-TTY" class="headerlink" title="Display Processes by TTY"></a>Display Processes by TTY</h3><p><strong>14.</strong> To select processes by <strong>tty</strong>, use the <strong>-t</strong> flag as follows.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -t pst/0</span><br><span class="line">$ ps -t pst/1</span><br><span class="line">$ ps -ft tty1</span><br></pre></td></tr></table></figure>
<p>List Processes by TTY</p>
<h3 id="Print-Process-Tree"><a href="#Print-Process-Tree" class="headerlink" title="Print Process Tree"></a>Print Process Tree</h3><p><strong>15.</strong> A process tree shows how processes on the system are linked to each other; processes whose parents have been killed are adopted by the init (or systemd).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -e --forest</span><br></pre></td></tr></table></figure>
<p>List Process Tree</p>
<p><strong>16.</strong> You can also print a process tree for a given process like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -f --forest -C sshd</span><br><span class="line">OR</span><br><span class="line">$ ps -ef --forest | grep -v grep | grep sshd</span><br></pre></td></tr></table></figure>
<p>List Tree View of Process</p>
<h3 id="Print-Process-Threads"><a href="#Print-Process-Threads" class="headerlink" title="Print Process Threads"></a>Print Process Threads</h3><p><strong>17.</strong> To print all threads of a process, use the <code>-H</code> flag, this will show the <strong>LWP</strong> (<strong>light weight process</strong>) as well as <strong>NLWP</strong> (<strong>number of light weight process</strong>) columns.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -fL -C httpd</span><br></pre></td></tr></table></figure>
<p>List Process Threads</p>
<h3 id="Specify-Custom-Output-Format"><a href="#Specify-Custom-Output-Format" class="headerlink" title="Specify Custom Output Format"></a>Specify Custom Output Format</h3><p>Using the <strong>-o</strong> or <strong>–format</strong> options, ps allows you to build user-defined output formats as shown below.</p>
<p><strong>18.</strong> To list all format specifiers, include the <code>L</code> flag.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps L</span><br></pre></td></tr></table></figure>
<p><strong>19.</strong> The command below allows you to view the <strong>PID</strong>, <strong>PPID</strong>, user name and command of a process.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -eo pid,ppid,user,cmd</span><br></pre></td></tr></table></figure>
<p>List Processes with Names</p>
<p><strong>20.</strong> Below is another example of a custom output format showing file system group, nice value, start time and elapsed time of a process.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -p 1154 -o pid,ppid,fgroup,ni,lstart,etime</span><br></pre></td></tr></table></figure>
<p>List Process ID Information</p>
<p><strong>21.</strong> To find a <a href="https://www.tecmint.com/find-process-name-pid-number-linux/" target="_blank" rel="noopener">process name using its PID</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -p 1154 -o comm=</span><br></pre></td></tr></table></figure>
<p>Find Process using PID</p>
<h3 id="Display-Parent-and-Child-Processes"><a href="#Display-Parent-and-Child-Processes" class="headerlink" title="Display Parent and Child Processes"></a>Display Parent and Child Processes</h3><p><strong>22.</strong> To select a specific process by its name, use the -C flag, this will also display all its child processes.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -C sshd</span><br></pre></td></tr></table></figure>
<p>Find Parent Child Process</p>
<p><strong>23.</strong> Find all <strong>PIDs</strong> of all instances of a process, useful when writing scripts that need to read <strong>PIDs</strong> from a std output or file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -C httpd -o pid=</span><br></pre></td></tr></table></figure>
<p>Find All Process PIDs</p>
<p><strong>24.</strong> Check execution time of a process.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -eo comm,etime,user | grep httpd</span><br></pre></td></tr></table></figure>
<p>The output below shows the HTTPD service has been running for 1 hours, 48 minutes and 17 seconds.</p>
<p>Find Process Uptime</p>
<h3 id="Troubleshoot-Linux-System-Performance"><a href="#Troubleshoot-Linux-System-Performance" class="headerlink" title="Troubleshoot Linux System Performance"></a>Troubleshoot Linux System Performance</h3><p>If your system isn’t working as it should be, for instance if it’s unusually slow, you can <a href="https://www.tecmint.com/linux-system-monitoring-troubleshooting-tools/" target="_blank" rel="noopener">perform some system troubleshooting</a> as follows.</p>
<p><strong>26.</strong> Find <a href="https://www.tecmint.com/find-linux-processes-memory-ram-cpu-usage/" target="_blank" rel="noopener">top running processes</a> by highest memory and CPU usage in Linux.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head</span><br><span class="line">OR</span><br><span class="line">$ ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%cpu | head</span><br></pre></td></tr></table></figure>
<p>Find Top Running Processes</p>
<p><strong>27.</strong> To kill an Linux <a href="https://www.tecmint.com/kill-processes-unresponsive-programs-in-ubuntu/" target="_blank" rel="noopener">processes/unresponsive applications</a> or any process that is consuming high CPU time.</p>
<p>First, find the <strong>PID</strong> of the unresponsive process or application.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -A | grep -i stress</span><br></pre></td></tr></table></figure>
<p>Then use the <a href="https://www.tecmint.com/how-to-kill-a-process-in-linux/" target="_blank" rel="noopener">kill command</a> to terminate it immediately.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kill -9 2583 2584</span><br></pre></td></tr></table></figure>
<p>Find and Kill a Process</p>
<h3 id="Print-Security-Information"><a href="#Print-Security-Information" class="headerlink" title="Print Security Information"></a>Print Security Information</h3><p><strong>28.</strong> Show security context (specifically for <strong>SELinux</strong>) like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -eM</span><br><span class="line">OR</span><br><span class="line">$ ps --context</span><br></pre></td></tr></table></figure>
<p>Find SELinux Context</p>
<p><strong>29.</strong> You can also display security information in user-defined format with this command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -eo  euser,ruser,suser,fuser,f,comm,label</span><br></pre></td></tr></table></figure>
<p>List SELinux Context by Users</p>
<h3 id="Perform-Real-time-Process-Monitoring-Using-Watch-Utility"><a href="#Perform-Real-time-Process-Monitoring-Using-Watch-Utility" class="headerlink" title="Perform Real-time Process Monitoring Using Watch Utility"></a>Perform Real-time Process Monitoring Using Watch Utility</h3><p><strong>30.</strong> Finally, since <strong>ps</strong> displays static information, you can employ the <a href="https://www.tecmint.com/fswatch-monitors-files-and-directory-changes-modifications-in-linux/" target="_blank" rel="noopener">watch utility</a> to perform real-time process monitoring with repetitive output, displayed after every second as in the command below (specify a custom <strong>ps command</strong> to achieve your objective).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ watch -n 1 &apos;ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head&apos;</span><br></pre></td></tr></table></figure>
<p>Real Time Process Monitoring</p>
<p><strong>Important</strong>: ps only shows static information, to view frequently updated output you can use tools such as <a href="https://www.tecmint.com/install-htop-linux-process-monitoring-for-rhel-centos-fedora/" target="_blank" rel="noopener">htop</a>; <a href="https://www.tecmint.com/12-top-command-examples-in-linux/" target="_blank" rel="noopener">top</a> and <a href="https://www.tecmint.com/glances-an-advanced-real-time-system-monitoring-tool-for-linux/" target="_blank" rel="noopener">glances</a>: the last two are in fact Linux system performance monitoring tool.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/19/linux-find/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/linux-find/" itemprop="url">linux-find</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T12:52:33+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The Linux <strong>Find Command</strong> is one of the most important and much used command in Linux sytems. Find command used to search and locate list of files and directories based on conditions you specify for files that match the arguments. Find can be used in variety of conditions like you can find files by <strong>permissions</strong>, <strong>users</strong>, <strong>groups</strong>, <strong>file type</strong>, <strong>date</strong>, <strong>size</strong> and other possible criteria.</p>
<p>Through this article we are sharing our day-to-day Linux find command experience and its usage in the form of examples. In this article we will show you the most used <strong>35 Find Commands</strong> examples in Linux. We have divided the section into <strong>Five</strong> parts from basic to advance usage of find command.</p>
<ol>
<li><strong>Part I</strong>: Basic Find Commands for Finding Files with Names</li>
<li><strong>Part II</strong>: Find Files Based on their Permissions</li>
<li><strong>Part III</strong>: Search Files Based On Owners and Groups</li>
<li><strong>Part IV</strong>: Find Files and Directories Based on Date and Time</li>
<li><strong>Part V</strong>: Find Files and Directories Based on Size</li>
<li><strong>Part VI</strong>: <a href="https://www.tecmint.com/linux-find-command-to-search-multiple-filenames-extensions/" target="_blank" rel="noopener">Find Multiple Filenames in Linux</a></li>
</ol>
<p><strong>Part I – Basic Find Commands for Finding Files with Names</strong></p>
<h4 id="1-Find-Files-Using-Name-in-Current-Directory"><a href="#1-Find-Files-Using-Name-in-Current-Directory" class="headerlink" title="1. Find Files Using Name in Current Directory"></a>1. Find Files Using Name in Current Directory</h4><p>Find all the files whose name is <strong>tecmint.txt</strong> in a current working directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># find . -name tecmint.txt</span><br><span class="line">./tecmint.txt</span><br></pre></td></tr></table></figure>
<h4 id="2-Find-Files-Under-Home-Directory"><a href="#2-Find-Files-Under-Home-Directory" class="headerlink" title="2. Find Files Under Home Directory"></a>2. Find Files Under Home Directory</h4><p>Find all the files under <strong>/home</strong> directory with name <strong>tecmint.txt</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># find /home -name tecmint.txt</span><br><span class="line">/home/tecmint.txt</span><br></pre></td></tr></table></figure>
<h4 id="3-Find-Files-Using-Name-and-Ignoring-Case"><a href="#3-Find-Files-Using-Name-and-Ignoring-Case" class="headerlink" title="3. Find Files Using Name and Ignoring Case"></a>3. Find Files Using Name and Ignoring Case</h4><p>Find all the files whose name is <strong>tecmint.txt</strong> and contains both capital and small letters in <strong>/home</strong> directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># find /home -iname tecmint.txt</span><br><span class="line">./tecmint.txt</span><br><span class="line">./Tecmint.txt</span><br></pre></td></tr></table></figure>
<h4 id="4-Find-Directories-Using-Name"><a href="#4-Find-Directories-Using-Name" class="headerlink" title="4. Find Directories Using Name"></a>4. Find Directories Using Name</h4><p>Find all directories whose name is <strong>Tecmint</strong> in <strong>/</strong> directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># find / -type d -name Tecmint</span><br><span class="line">/Tecmint</span><br></pre></td></tr></table></figure>
<h4 id="5-Find-PHP-Files-Using-Name"><a href="#5-Find-PHP-Files-Using-Name" class="headerlink" title="5. Find PHP Files Using Name"></a>5. Find PHP Files Using Name</h4><p>Find all <strong>php</strong> files whose name is <strong>tecmint.php</strong> in a current working directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f -name tecmint.php</span><br><span class="line">./tecmint.php</span><br></pre></td></tr></table></figure>
<h4 id="6-Find-all-PHP-Files-in-Directory"><a href="#6-Find-all-PHP-Files-in-Directory" class="headerlink" title="6. Find all PHP Files in Directory"></a>6. Find all PHP Files in Directory</h4><p>Find all <strong>php</strong> files in a directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f -name &quot;*.php&quot;</span><br><span class="line">./tecmint.php</span><br><span class="line">./login.php</span><br><span class="line">./index.php</span><br></pre></td></tr></table></figure>
<p><strong>Part II – Find Files Based on their Permissions</strong></p>
<h4 id="7-Find-Files-With-777-Permissions"><a href="#7-Find-Files-With-777-Permissions" class="headerlink" title="7. Find Files With 777 Permissions"></a>7. Find Files With 777 Permissions</h4><p>Find all the files whose permissions are <strong>777</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f -perm 0777 -print</span><br></pre></td></tr></table></figure>
<h4 id="8-Find-Files-Without-777-Permissions"><a href="#8-Find-Files-Without-777-Permissions" class="headerlink" title="8. Find Files Without 777 Permissions"></a>8. Find Files Without 777 Permissions</h4><p>Find all the files without permission <strong>777</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -type f ! -perm 777</span><br></pre></td></tr></table></figure>
<h4 id="9-Find-SGID-Files-with-644-Permissions"><a href="#9-Find-SGID-Files-with-644-Permissions" class="headerlink" title="9. Find SGID Files with 644 Permissions"></a>9. Find SGID Files with 644 Permissions</h4><p>Find all the <strong>SGID bit</strong> files whose permissions set to <strong>644</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -perm 2644</span><br></pre></td></tr></table></figure>
<h4 id="10-Find-Sticky-Bit-Files-with-551-Permissions"><a href="#10-Find-Sticky-Bit-Files-with-551-Permissions" class="headerlink" title="10. Find Sticky Bit Files with 551 Permissions"></a>10. Find Sticky Bit Files with 551 Permissions</h4><p>Find all the <strong>Sticky Bit</strong> set files whose permission are <strong>551</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -perm 1551</span><br></pre></td></tr></table></figure>
<h4 id="11-Find-SUID-Files"><a href="#11-Find-SUID-Files" class="headerlink" title="11. Find SUID Files"></a>11. Find SUID Files</h4><p>Find all <strong>SUID</strong> set files.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -perm /u=s</span><br></pre></td></tr></table></figure>
<h4 id="12-Find-SGID-Files"><a href="#12-Find-SGID-Files" class="headerlink" title="12. Find SGID Files"></a>12. Find SGID Files</h4><p>Find all <strong>SGID</strong> set files.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -perm /g=s</span><br></pre></td></tr></table></figure>
<h4 id="13-Find-Read-Only-Files"><a href="#13-Find-Read-Only-Files" class="headerlink" title="13. Find Read Only Files"></a>13. Find Read Only Files</h4><p>Find all <strong>Read Only</strong> files.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -perm /u=r</span><br></pre></td></tr></table></figure>
<h4 id="14-Find-Executable-Files"><a href="#14-Find-Executable-Files" class="headerlink" title="14. Find Executable Files"></a>14. Find Executable Files</h4><p>Find all <strong>Executable</strong> files.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -perm /a=x</span><br></pre></td></tr></table></figure>
<h4 id="15-Find-Files-with-777-Permissions-and-Chmod-to-644"><a href="#15-Find-Files-with-777-Permissions-and-Chmod-to-644" class="headerlink" title="15. Find Files with 777 Permissions and Chmod to 644"></a>15. Find Files with 777 Permissions and Chmod to 644</h4><p>Find all <strong>777</strong> permission files and use <strong>chmod</strong> command to set permissions to <strong>644</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -type f -perm 0777 -print -exec chmod 644 &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h4 id="16-Find-Directories-with-777-Permissions-and-Chmod-to-755"><a href="#16-Find-Directories-with-777-Permissions-and-Chmod-to-755" class="headerlink" title="16. Find Directories with 777 Permissions and Chmod to 755"></a>16. Find Directories with 777 Permissions and Chmod to 755</h4><p>Find all <strong>777</strong> permission directories and use <strong>chmod</strong> command to set permissions to <strong>755</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -type d -perm 777 -print -exec chmod 755 &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h4 id="17-Find-and-remove-single-File"><a href="#17-Find-and-remove-single-File" class="headerlink" title="17. Find and remove single File"></a>17. Find and remove single File</h4><p>To find a single file called <strong>tecmint.txt</strong> and remove it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f -name &quot;tecmint.txt&quot; -exec rm -f &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h4 id="18-Find-and-remove-Multiple-File"><a href="#18-Find-and-remove-Multiple-File" class="headerlink" title="18. Find and remove Multiple File"></a>18. Find and remove Multiple File</h4><p>To find and remove multiple files such as <strong>.mp3</strong> or <strong>.txt</strong>, then use.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f -name &quot;*.txt&quot; -exec rm -f &#123;&#125; \;</span><br><span class="line">OR</span><br><span class="line"># find . -type f -name &quot;*.mp3&quot; -exec rm -f &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h4 id="19-Find-all-Empty-Files"><a href="#19-Find-all-Empty-Files" class="headerlink" title="19. Find all Empty Files"></a>19. Find all Empty Files</h4><p>To find all empty files under certain path.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /tmp -type f -empty</span><br></pre></td></tr></table></figure>
<h4 id="20-Find-all-Empty-Directories"><a href="#20-Find-all-Empty-Directories" class="headerlink" title="20. Find all Empty Directories"></a>20. Find all Empty Directories</h4><p>To file all empty directories under certain path.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /tmp -type d -empty</span><br></pre></td></tr></table></figure>
<h4 id="21-File-all-Hidden-Files"><a href="#21-File-all-Hidden-Files" class="headerlink" title="21. File all Hidden Files"></a>21. File all Hidden Files</h4><p>To find all hidden files, use below command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /tmp -type f -name &quot;.*&quot;</span><br></pre></td></tr></table></figure>
<p><strong>Part III – Search Files Based On Owners and Groups</strong></p>
<h4 id="22-Find-Single-File-Based-on-User"><a href="#22-Find-Single-File-Based-on-User" class="headerlink" title="22. Find Single File Based on User"></a>22. Find Single File Based on User</h4><p>To find all or single file called <strong>tecmint.txt</strong> under <strong>/</strong> root directory of owner root.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -user root -name tecmint.txt</span><br></pre></td></tr></table></figure>
<h4 id="23-Find-all-Files-Based-on-User"><a href="#23-Find-all-Files-Based-on-User" class="headerlink" title="23. Find all Files Based on User"></a>23. Find all Files Based on User</h4><p>To find all files that belongs to user <strong>Tecmint</strong> under <strong>/home</strong> directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /home -user tecmint</span><br></pre></td></tr></table></figure>
<h4 id="24-Find-all-Files-Based-on-Group"><a href="#24-Find-all-Files-Based-on-Group" class="headerlink" title="24. Find all Files Based on Group"></a>24. Find all Files Based on Group</h4><p>To find all files that belongs to group <strong>Developer</strong> under <strong>/home</strong> directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /home -group developer</span><br></pre></td></tr></table></figure>
<h4 id="25-Find-Particular-Files-of-User"><a href="#25-Find-Particular-Files-of-User" class="headerlink" title="25. Find Particular Files of User"></a>25. Find Particular Files of User</h4><p>To find all <strong>.txt</strong> files of user <strong>Tecmint</strong> under <strong>/home</strong> directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /home -user tecmint -iname &quot;*.txt&quot;</span><br></pre></td></tr></table></figure>
<p><strong>Part IV – Find Files and Directories Based on Date and Time</strong></p>
<h4 id="26-Find-Last-50-Days-Modified-Files"><a href="#26-Find-Last-50-Days-Modified-Files" class="headerlink" title="26. Find Last 50 Days Modified Files"></a>26. Find Last 50 Days Modified Files</h4><p>To find all the files which are modified <strong>50</strong> days back.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -mtime 50</span><br></pre></td></tr></table></figure>
<h4 id="27-Find-Last-50-Days-Accessed-Files"><a href="#27-Find-Last-50-Days-Accessed-Files" class="headerlink" title="27. Find Last 50 Days Accessed Files"></a>27. Find Last 50 Days Accessed Files</h4><p>To find all the files which are accessed <strong>50</strong> days back.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -atime 50</span><br></pre></td></tr></table></figure>
<h4 id="28-Find-Last-50-100-Days-Modified-Files"><a href="#28-Find-Last-50-100-Days-Modified-Files" class="headerlink" title="28. Find Last 50-100 Days Modified Files"></a>28. Find Last 50-100 Days Modified Files</h4><p>To find all the files which are modified more than <strong>50</strong> days back and less than <strong>100</strong> days.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -mtime +50 –mtime -100</span><br></pre></td></tr></table></figure>
<h4 id="29-Find-Changed-Files-in-Last-1-Hour"><a href="#29-Find-Changed-Files-in-Last-1-Hour" class="headerlink" title="29. Find Changed Files in Last 1 Hour"></a>29. Find Changed Files in Last 1 Hour</h4><p>To find all the files which are changed in last <strong>1 hour</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -cmin -60</span><br></pre></td></tr></table></figure>
<h4 id="30-Find-Modified-Files-in-Last-1-Hour"><a href="#30-Find-Modified-Files-in-Last-1-Hour" class="headerlink" title="30. Find Modified Files in Last 1 Hour"></a>30. Find Modified Files in Last 1 Hour</h4><p>To find all the files which are modified in last <strong>1 hour</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -mmin -60</span><br></pre></td></tr></table></figure>
<h4 id="31-Find-Accessed-Files-in-Last-1-Hour"><a href="#31-Find-Accessed-Files-in-Last-1-Hour" class="headerlink" title="31. Find Accessed Files in Last 1 Hour"></a>31. Find Accessed Files in Last 1 Hour</h4><p>To find all the files which are accessed in last <strong>1 hour</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -amin -60</span><br></pre></td></tr></table></figure>
<p><strong>Part V – Find Files and Directories Based on Size</strong></p>
<h4 id="32-Find-50MB-Files"><a href="#32-Find-50MB-Files" class="headerlink" title="32. Find 50MB Files"></a>32. Find 50MB Files</h4><p>To find all <strong>50MB</strong> files, use.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -size 50M</span><br></pre></td></tr></table></figure>
<h4 id="33-Find-Size-between-50MB-–-100MB"><a href="#33-Find-Size-between-50MB-–-100MB" class="headerlink" title="33. Find Size between 50MB – 100MB"></a>33. Find Size between 50MB – 100MB</h4><p>To find all the files which are greater than <strong>50MB</strong> and less than <strong>100MB</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -size +50M -size -100M</span><br></pre></td></tr></table></figure>
<h4 id="34-Find-and-Delete-100MB-Files"><a href="#34-Find-and-Delete-100MB-Files" class="headerlink" title="34. Find and Delete 100MB Files"></a>34. Find and Delete 100MB Files</h4><p>To find all <strong>100MB</strong> files and delete them using one single command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -size +100M -exec rm -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h4 id="35-Find-Specific-Files-and-Delete"><a href="#35-Find-Specific-Files-and-Delete" class="headerlink" title="35. Find Specific Files and Delete"></a>35. Find Specific Files and Delete</h4><p>Find all <strong>.mp3</strong> files with more than <strong>10MB</strong> and delete them using one single command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find / -type f -name *.mp3 -size +10M -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>That’s it, We are ending this post here, In our next article we will discuss more about other Linux commands in depth with practical examples. Let us know your opinions on this article using our comment section.</p>
<p>Many times, we are locked in a situation where we have to search for multiple files with different extensions, this has probably happened to several Linux users especially from within the terminal.</p>
<p>There are several Linux utilities that we can use to locate or find files on the file system, but finding multiple filenames or files with different extensions can sometimes prove tricky and requires specific commands.</p>
<p><img src="https://www.tecmint.com/wp-content/uploads/2016/07/Find-Multiple-File-Names-in-Linux.png" alt="Find Multiple File Names in Linux"></p>
<p>Find Multiple File Names in Linux</p>
<p>One of the many utilities for locating files on a Linux file system is the <code>find</code> utility and in this how-to guide, we shall walk through a few examples of using <strong>find</strong> to help us locate multiple filenames at once.</p>
<p>Before we dive into the actual commands, let us look at a brief introduction to the Linux <code>find</code> utility.</p>
<p>The simplest and general syntax of the find utility is as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find directory options [ expression ]</span><br></pre></td></tr></table></figure>
<p>Let us proceed to look at some examples of <strong>find</strong> command in Linux.</p>
<p><strong>1.</strong> Assuming that you want to find all files in the current directory with <code>.sh</code> and <code>.txt</code> file extensions, you can do this by running the command below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f \( -name &quot;*.sh&quot; -o -name &quot;*.txt&quot; \)</span><br></pre></td></tr></table></figure>
<p><img src="https://www.tecmint.com/wp-content/uploads/2016/07/Find-Multiple-Extension-Files-in-Linux.png" alt="Find .sh and .txt Extension Files in Linux"></p>
<p>Find .sh and .txt Extension Files in Linux</p>
<p>Interpretation of the command above:</p>
<ol>
<li><code>.</code> means the current directory</li>
<li><code>-type</code> option is used to specify file type and here, we are searching for regular files as represented by <code>f</code></li>
<li><code>-name</code> option is used to specify a search pattern in this case, the file extensions</li>
<li><code>-o</code> means “OR”</li>
</ol>
<p>It is recommended that you enclose the file extensions in a bracket, and also use the <code>\</code> ( <strong>back slash</strong>) escape character as in the command.</p>
<p><strong>2.</strong> To find three filenames with <code>.sh</code>, <code>.txt</code> and <code>.c</code> extensions, issues the command below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find . -type f \( -name &quot;*.sh&quot; -o -name &quot;*.txt&quot; -o -name &quot;*.c&quot; \)</span><br></pre></td></tr></table></figure>
<p><img src="https://www.tecmint.com/wp-content/uploads/2016/07/Find-Multiple-File-Extensions-in-Linux.png" alt="Find Multiple File Extensions in Linux"></p>
<p>Find Multiple File Extensions in Linux</p>
<p><strong>3.</strong> Here is another example where we search for files with <code>.png</code>, <code>.jpg</code>, <code>.deb</code> and <code>.pdf</code> extensions:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># find /home/aaronkilik/Documents/ -type f \( -name &quot;*.png&quot; -o -name &quot;*.jpg&quot; -o -name &quot;*.deb&quot; -o -name &quot;.pdf&quot; \)</span><br></pre></td></tr></table></figure>
<p><img src="https://www.tecmint.com/wp-content/uploads/2016/07/Find-Multiple-Image-File-Extensions.png" alt="Find More than 3 File Extensions in Linux"></p>
<p>Find More than 3 File Extensions in Linux</p>
<p>When you critically observe all the commands above, the little trick is using the <code>-o</code> option in the <strong>find</strong> command, it enables you to add more filenames to the search array, and also knowing the filenames or file extensions you are searching for.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/19/netstat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/netstat/" itemprop="url">netstat</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T12:43:00+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>netstat</strong> (<strong>network statistics</strong>) is a command line tool for monitoring network connections both incoming and outgoing as well as viewing routing tables, interface statistics etc. <strong>netstat</strong> is available on all Unix-like Operating Systems and also available on <strong>Windows OS</strong> as well. It is very useful in terms of network troubleshooting and performance measurement. <strong>netstat</strong> is one of the most basic network service debugging tools, telling you what ports are open and whether any programs are listening on ports.</p>
<p>This tool is very important and much useful for Linux network administrators as well as system administrators to monitor and troubleshoot their network related problems and determine network traffic performance. This article shows usages of <strong>netstat</strong> command with their examples which may be useful in daily operation.</p>
<h4 id="1-Listing-all-the-LISTENING-Ports-of-TCP-and-UDP-connections"><a href="#1-Listing-all-the-LISTENING-Ports-of-TCP-and-UDP-connections" class="headerlink" title="1. Listing all the LISTENING Ports of TCP and UDP connections"></a>1. Listing all the LISTENING Ports of TCP and UDP connections</h4><p>Listing all ports (both TCP and UDP) using <strong>netstat</strong> -a option.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># netstat -a | more</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">tcp        0      0 *:sunrpc                    *:*                         LISTEN</span><br><span class="line">tcp        0     52 192.168.0.2:ssh             192.168.0.1:egs             ESTABLISHED</span><br><span class="line">tcp        1      0 192.168.0.2:59292           www.gov.com:http            CLOSE_WAIT</span><br><span class="line">tcp        0      0 localhost:smtp              *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:59482                     *:*                         LISTEN</span><br><span class="line">udp        0      0 *:35036                     *:*</span><br><span class="line">udp        0      0 *:npmp-local                *:*</span><br><span class="line">Active UNIX domain sockets (servers and established)</span><br><span class="line">Proto RefCnt Flags       Type       State         I-Node Path</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     16972  /tmp/orbit-root/linc-76b-0-6fa08790553d6</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     17149  /tmp/orbit-root/linc-794-0-7058d584166d2</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     17161  /tmp/orbit-root/linc-792-0-546fe905321cc</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     15938  /tmp/orbit-root/linc-74b-0-415135cb6aeab</span><br></pre></td></tr></table></figure>
<h4 id="2-Listing-TCP-Ports-connections"><a href="#2-Listing-TCP-Ports-connections" class="headerlink" title="2. Listing TCP Ports connections"></a>2. Listing TCP Ports connections</h4><p>Listing only <strong>TCP</strong> (<strong>Transmission Control Protocol</strong>) port connections using <strong>netstat -at</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># netstat -at</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">tcp        0      0 *:ssh                       *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost:ipp               *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost:smtp              *:*                         LISTEN</span><br><span class="line">tcp        0     52 192.168.0.2:ssh             192.168.0.1:egs             ESTABLISHED</span><br><span class="line">tcp        1      0 192.168.0.2:59292           www.gov.com:http            CLOSE_WAIT</span><br></pre></td></tr></table></figure>
<h4 id="3-Listing-UDP-Ports-connections"><a href="#3-Listing-UDP-Ports-connections" class="headerlink" title="3. Listing UDP Ports connections"></a>3. Listing UDP Ports connections</h4><p>Listing only <strong>UDP</strong> (<strong>User Datagram Protocol</strong> ) port connections using <strong>netstat -au</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># netstat -au</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">udp        0      0 *:35036                     *:*</span><br><span class="line">udp        0      0 *:npmp-local                *:*</span><br><span class="line">udp        0      0 *:mdns                      *:*</span><br></pre></td></tr></table></figure>
<h4 id="4-Listing-all-LISTENING-Connections"><a href="#4-Listing-all-LISTENING-Connections" class="headerlink" title="4. Listing all LISTENING Connections"></a>4. Listing all LISTENING Connections</h4><p>Listing all active listening ports connections with <strong>netstat -l</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># netstat -l</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">tcp        0      0 *:sunrpc                    *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:58642                     *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:ssh                       *:*                         LISTEN</span><br><span class="line">udp        0      0 *:35036                     *:*</span><br><span class="line">udp        0      0 *:npmp-local                *:*</span><br><span class="line">Active UNIX domain sockets (only servers)</span><br><span class="line">Proto RefCnt Flags       Type       State         I-Node Path</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     16972  /tmp/orbit-root/linc-76b-0-6fa08790553d6</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     17149  /tmp/orbit-root/linc-794-0-7058d584166d2</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     17161  /tmp/orbit-root/linc-792-0-546fe905321cc</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     15938  /tmp/orbit-root/linc-74b-0-415135cb6aeab</span><br></pre></td></tr></table></figure>
<h4 id="5-Listing-all-TCP-Listening-Ports"><a href="#5-Listing-all-TCP-Listening-Ports" class="headerlink" title="5. Listing all TCP Listening Ports"></a>5. Listing all TCP Listening Ports</h4><p>Listing all active listening TCP ports by using option <strong>netstat -lt</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># netstat -lt</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">tcp        0      0 *:dctp                      *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:mysql                     *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:sunrpc                    *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:munin                     *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:ftp                       *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost.localdomain:ipp   *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost.localdomain:smtp  *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:http                      *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:ssh                       *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:https                     *:*                         LISTEN</span><br></pre></td></tr></table></figure>
<h4 id="6-Listing-all-UDP-Listening-Ports"><a href="#6-Listing-all-UDP-Listening-Ports" class="headerlink" title="6. Listing all UDP Listening Ports"></a>6. Listing all UDP Listening Ports</h4><p>Listing all active listening UDP ports by using option <strong>netstat -lu</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># netstat -lu</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">udp        0      0 *:39578                     *:*</span><br><span class="line">udp        0      0 *:meregister                *:*</span><br><span class="line">udp        0      0 *:vpps-qua                  *:*</span><br><span class="line">udp        0      0 *:openvpn                   *:*</span><br><span class="line">udp        0      0 *:mdns                      *:*</span><br><span class="line">udp        0      0 *:sunrpc                    *:*</span><br><span class="line">udp        0      0 *:ipp                       *:*</span><br><span class="line">udp        0      0 *:60222                     *:*</span><br><span class="line">udp        0      0 *:mdns                      *:*</span><br></pre></td></tr></table></figure>
<h4 id="7-Listing-all-UNIX-Listening-Ports"><a href="#7-Listing-all-UNIX-Listening-Ports" class="headerlink" title="7. Listing all UNIX Listening Ports"></a>7. Listing all UNIX Listening Ports</h4><p>Listing all active UNIX listening ports using <strong>netstat -lx</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># netstat -lx</span><br><span class="line">Active UNIX domain sockets (only servers)</span><br><span class="line">Proto RefCnt Flags       Type       State         I-Node Path</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     4171   @ISCSIADM_ABSTRACT_NAMESPACE</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     5767   /var/run/cups/cups.sock</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     7082   @/tmp/fam-root-</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     6157   /dev/gpmctl</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     6215   @/var/run/hald/dbus-IcefTIUkHm</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     6038   /tmp/.font-unix/fs7100</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     6175   /var/run/avahi-daemon/socket</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     4157   @ISCSID_UIP_ABSTRACT_NAMESPACE</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     60835836 /var/lib/mysql/mysql.sock</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     4645   /var/run/audispd_events</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     5136   /var/run/dbus/system_bus_socket</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     6216   @/var/run/hald/dbus-wsUBI30V2I</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     5517   /var/run/acpid.socket</span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     5531   /var/run/pcscd.comm</span><br></pre></td></tr></table></figure>
<h4 id="8-Showing-Statistics-by-Protocol"><a href="#8-Showing-Statistics-by-Protocol" class="headerlink" title="8. Showing Statistics by Protocol"></a>8. Showing Statistics by Protocol</h4><p>Displays statistics by protocol. By default, statistics are shown for the TCP, UDP, ICMP, and IP protocols. The -s parameter can be used to specify a set of protocols.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># netstat -s</span><br><span class="line">Ip:</span><br><span class="line">2461 total packets received</span><br><span class="line">0 forwarded</span><br><span class="line">0 incoming packets discarded</span><br><span class="line">2431 incoming packets delivered</span><br><span class="line">2049 requests sent out</span><br><span class="line">Icmp:</span><br><span class="line">0 ICMP messages received</span><br><span class="line">0 input ICMP message failed.</span><br><span class="line">ICMP input histogram:</span><br><span class="line">1 ICMP messages sent</span><br><span class="line">0 ICMP messages failed</span><br><span class="line">ICMP output histogram:</span><br><span class="line">destination unreachable: 1</span><br><span class="line">Tcp:</span><br><span class="line">159 active connections openings</span><br><span class="line">1 passive connection openings</span><br><span class="line">4 failed connection attempts</span><br><span class="line">0 connection resets received</span><br><span class="line">1 connections established</span><br><span class="line">2191 segments received</span><br><span class="line">1745 segments send out</span><br><span class="line">24 segments retransmited</span><br><span class="line">0 bad segments received.</span><br><span class="line">4 resets sent</span><br><span class="line">Udp:</span><br><span class="line">243 packets received</span><br><span class="line">1 packets to unknown port received.</span><br><span class="line">0 packet receive errors</span><br><span class="line">281 packets sent</span><br></pre></td></tr></table></figure>
<h4 id="9-Showing-Statistics-by-TCP-Protocol"><a href="#9-Showing-Statistics-by-TCP-Protocol" class="headerlink" title="9. Showing Statistics by TCP Protocol"></a>9. Showing Statistics by TCP Protocol</h4><p>Showing statistics of only TCP protocol by using option <strong>netstat -st</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># netstat -st</span><br><span class="line">Tcp:</span><br><span class="line">2805201 active connections openings</span><br><span class="line">1597466 passive connection openings</span><br><span class="line">1522484 failed connection attempts</span><br><span class="line">37806 connection resets received</span><br><span class="line">1 connections established</span><br><span class="line">57718706 segments received</span><br><span class="line">64280042 segments send out</span><br><span class="line">3135688 segments retransmited</span><br><span class="line">74 bad segments received.</span><br><span class="line">17580 resets sent</span><br></pre></td></tr></table></figure>
<h4 id="10-Showing-Statistics-by-UDP-Protocol"><a href="#10-Showing-Statistics-by-UDP-Protocol" class="headerlink" title="10. Showing Statistics by UDP Protocol"></a>10. Showing Statistics by UDP Protocol</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># netstat -su</span><br><span class="line">Udp:</span><br><span class="line">1774823 packets received</span><br><span class="line">901848 packets to unknown port received.</span><br><span class="line">0 packet receive errors</span><br><span class="line">2968722 packets sent</span><br></pre></td></tr></table></figure>
<h4 id="11-Displaying-Service-name-with-PID"><a href="#11-Displaying-Service-name-with-PID" class="headerlink" title="11. Displaying Service name with PID"></a>11. Displaying Service name with PID</h4><p>Displaying service name with their PID number, using option <strong>netstat -tp</strong> will display “PID/Program Name”.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># netstat -tp</span><br><span class="line">Active Internet connections (w/o servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name</span><br><span class="line">tcp        0      0 192.168.0.2:ssh             192.168.0.1:egs             ESTABLISHED 2179/sshd</span><br><span class="line">tcp        1      0 192.168.0.2:59292           www.gov.com:http            CLOSE_WAIT  1939/clock-applet</span><br></pre></td></tr></table></figure>
<h4 id="12-Displaying-Promiscuous-Mode"><a href="#12-Displaying-Promiscuous-Mode" class="headerlink" title="12. Displaying Promiscuous Mode"></a>12. Displaying Promiscuous Mode</h4><p>Displaying Promiscuous mode with -ac switch, netstat print the selected information or refresh screen every five second. Default screen refresh in every second.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># netstat -ac 5 | grep tcp</span><br><span class="line">tcp        0      0 *:sunrpc                    *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:58642                     *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:ssh                       *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost:ipp               *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost:smtp              *:*                         LISTEN</span><br><span class="line">tcp        1      0 192.168.0.2:59447           www.gov.com:http            CLOSE_WAIT</span><br><span class="line">tcp        0     52 192.168.0.2:ssh             192.168.0.1:egs             ESTABLISHED</span><br><span class="line">tcp        0      0 *:sunrpc                    *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:ssh                       *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost:ipp               *:*                         LISTEN</span><br><span class="line">tcp        0      0 localhost:smtp              *:*                         LISTEN</span><br><span class="line">tcp        0      0 *:59482                     *:*                         LISTEN</span><br></pre></td></tr></table></figure>
<h4 id="13-Displaying-Kernel-IP-routing"><a href="#13-Displaying-Kernel-IP-routing" class="headerlink" title="13. Displaying Kernel IP routing"></a>13. Displaying Kernel IP routing</h4><p>Display Kernel IP routing table with netstat and route command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># netstat -r</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface</span><br><span class="line">192.168.0.0     *               255.255.255.0   U         0 0          0 eth0</span><br><span class="line">link-local      *               255.255.0.0     U         0 0          0 eth0</span><br><span class="line">default         192.168.0.1     0.0.0.0         UG        0 0          0 eth0</span><br></pre></td></tr></table></figure>
<h4 id="14-Showing-Network-Interface-Transactions"><a href="#14-Showing-Network-Interface-Transactions" class="headerlink" title="14. Showing Network Interface Transactions"></a>14. Showing Network Interface Transactions</h4><p>Showing network interface packet transactions including both transferring and receiving packets with MTU size.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># netstat -i</span><br><span class="line">Kernel Interface table</span><br><span class="line">Iface       MTU Met    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg</span><br><span class="line">eth0       1500   0     4459      0      0      0     4057      0      0      0 BMRU</span><br><span class="line">lo        16436   0        8      0      0      0        8      0      0      0 LRU</span><br></pre></td></tr></table></figure>
<h4 id="15-Showing-Kernel-Interface-Table"><a href="#15-Showing-Kernel-Interface-Table" class="headerlink" title="15. Showing Kernel Interface Table"></a>15. Showing Kernel Interface Table</h4><p>Showing Kernel interface table, similar to <strong>ifconfig</strong> command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># netstat -ie</span><br><span class="line">Kernel Interface table</span><br><span class="line">eth0      Link encap:Ethernet  HWaddr 00:0C:29:B4:DA:21</span><br><span class="line">inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0</span><br><span class="line">inet6 addr: fe80::20c:29ff:feb4:da21/64 Scope:Link</span><br><span class="line">UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span><br><span class="line">RX packets:4486 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">TX packets:4077 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">collisions:0 txqueuelen:1000</span><br><span class="line">RX bytes:2720253 (2.5 MiB)  TX bytes:1161745 (1.1 MiB)</span><br><span class="line">Interrupt:18 Base address:0x2000</span><br><span class="line">lo        Link encap:Local Loopback</span><br><span class="line">inet addr:127.0.0.1  Mask:255.0.0.0</span><br><span class="line">inet6 addr: ::1/128 Scope:Host</span><br><span class="line">UP LOOPBACK RUNNING  MTU:16436  Metric:1</span><br><span class="line">RX packets:8 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">collisions:0 txqueuelen:0</span><br><span class="line">RX bytes:480 (480.0 b)  TX bytes:480 (480.0 b)</span><br></pre></td></tr></table></figure>
<h4 id="16-Displaying-IPv4-and-IPv6-Information"><a href="#16-Displaying-IPv4-and-IPv6-Information" class="headerlink" title="16. Displaying IPv4 and IPv6 Information"></a>16. Displaying IPv4 and IPv6 Information</h4><p>Displays multicast group membership information for both IPv4 and IPv6.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># netstat -g</span><br><span class="line">IPv6/IPv4 Group Memberships</span><br><span class="line">Interface       RefCnt Group</span><br><span class="line">--------------- ------ ---------------------</span><br><span class="line">lo              1      all-systems.mcast.net</span><br><span class="line">eth0            1      224.0.0.251</span><br><span class="line">eth0            1      all-systems.mcast.net</span><br><span class="line">lo              1      ff02::1</span><br><span class="line">eth0            1      ff02::202</span><br><span class="line">eth0            1      ff02::1:ffb4:da21</span><br><span class="line">eth0            1      ff02::1</span><br></pre></td></tr></table></figure>
<h4 id="17-Print-Netstat-Information-Continuously"><a href="#17-Print-Netstat-Information-Continuously" class="headerlink" title="17. Print Netstat Information Continuously"></a>17. Print Netstat Information Continuously</h4><p>To get netstat information every few second, then use the following command, it will print netstat information continuously, say every few seconds.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># netstat -c</span><br><span class="line">Active Internet connections (w/o servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg007.shr.prod.s:36944 TIME_WAIT</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg010.shr.prod.s:42110 TIME_WAIT</span><br><span class="line">tcp        0    132 tecmint.com:ssh    115.113.134.3.static-:64662 ESTABLISHED</span><br><span class="line">tcp        0      0 tecmint.com:http   crawl-66-249-71-240.g:41166 TIME_WAIT</span><br><span class="line">tcp        0      0 localhost.localdomain:54823 localhost.localdomain:smtp  TIME_WAIT</span><br><span class="line">tcp        0      0 localhost.localdomain:54822 localhost.localdomain:smtp  TIME_WAIT</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg010.shr.prod.s:42091 TIME_WAIT</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg007.shr.prod.s:36998 TIME_WAIT</span><br></pre></td></tr></table></figure>
<h4 id="18-Finding-non-supportive-Address"><a href="#18-Finding-non-supportive-Address" class="headerlink" title="18. Finding non supportive Address"></a>18. Finding non supportive Address</h4><p>Finding un-configured address families with some useful information.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># netstat --verbose</span><br><span class="line">netstat: no support for `AF IPX&apos; on this system.</span><br><span class="line">netstat: no support for `AF AX25&apos; on this system.</span><br><span class="line">netstat: no support for `AF X25&apos; on this system.</span><br><span class="line">netstat: no support for `AF NETROM&apos; on this system.</span><br></pre></td></tr></table></figure>
<h4 id="19-Finding-Listening-Programs"><a href="#19-Finding-Listening-Programs" class="headerlink" title="19. Finding Listening Programs"></a>19. Finding Listening Programs</h4><p>Find out how many listening programs running on a port.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># netstat -ap | grep http</span><br><span class="line">tcp        0      0 *:http                      *:*                         LISTEN      9056/httpd</span><br><span class="line">tcp        0      0 *:https                     *:*                         LISTEN      9056/httpd</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg008.shr.prod.s:35248 TIME_WAIT   -</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg007.shr.prod.s:57783 TIME_WAIT   -</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg007.shr.prod.s:57769 TIME_WAIT   -</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg008.shr.prod.s:35270 TIME_WAIT   -</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg009.shr.prod.s:41637 TIME_WAIT   -</span><br><span class="line">tcp        0      0 tecmint.com:http   sg2nlhg009.shr.prod.s:41614 TIME_WAIT   -</span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     88586726 10394/httpd</span><br></pre></td></tr></table></figure>
<h4 id="20-Displaying-RAW-Network-Statistics"><a href="#20-Displaying-RAW-Network-Statistics" class="headerlink" title="20. Displaying RAW Network Statistics"></a>20. Displaying RAW Network Statistics</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># netstat --statistics --raw</span><br><span class="line">Ip:</span><br><span class="line">62175683 total packets received</span><br><span class="line">52970 with invalid addresses</span><br><span class="line">0 forwarded</span><br><span class="line">Icmp:</span><br><span class="line">875519 ICMP messages received</span><br><span class="line">destination unreachable: 901671</span><br><span class="line">echo request: 8</span><br><span class="line">echo replies: 16253</span><br><span class="line">IcmpMsg:</span><br><span class="line">InType0: 83</span><br><span class="line">IpExt:</span><br><span class="line">InMcastPkts: 117</span><br></pre></td></tr></table></figure>
<p>That’s it, If you are looking for more information and options about netstat command, refer netstat manual docs or use <strong>man netstat</strong> command to know all the information. If we’ve missed anything in the list, please inform us using our comment section below. So, we could keep updating this list based on your comments.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/02/Netty-Issues/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/02/Netty-Issues/" itemprop="url">Netty Issues</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-02T14:05:36+08:00">
                2018-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="too-Many-duplicated-TCP-links"><a href="#too-Many-duplicated-TCP-links" class="headerlink" title="too Many duplicated TCP links"></a>too Many duplicated TCP links</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@production-watchdog:~# netstat -an|grep 65003| sort -n | uniq -c</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:11547   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:16857   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:19251   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:21405   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:22151   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:24348   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:25293   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:31504   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:33963   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:37082   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:37454   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:38615   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:40626   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:42882   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:45746   ESTABLISHED</span><br><span class="line">      1 tcp6       0      0 10.10.10.10:65003      11.11.11.11:48254   ESTABLISHED</span><br></pre></td></tr></table></figure>
<p>如果存在以下情况，主板断电、重启、弱网环境等，主板无法主动正确关闭已经建立的SOCKET连接，导致服务端出现冗余的连接。<br>主板断电后再上电，旧的连接已经失效，但是会由于未正确关闭，而发生冗余：</p>
<h1 id="Netty-ByteBuf-leak"><a href="#Netty-ByteBuf-leak" class="headerlink" title="Netty ByteBuf leak"></a>Netty ByteBuf leak</h1><ul>
<li><a href="http://netty.io/wiki/reference-counted-objects.html" target="_blank" rel="noopener">Netty.docs: Reference counted objects</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://markhuyong.github.io/2018/04/02/redisson-EVAL-failed-in-tencent-cloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="markhuyong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="markhuyong's garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/02/redisson-EVAL-failed-in-tencent-cloud/" itemprop="url">redisson EVAL failed in tencent cloud</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-02T13:59:52+08:00">
                2018-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="when-use-tencent-cloud-Cloud-Redis-Storage-not-support-EVAL-command"><a href="#when-use-tencent-cloud-Cloud-Redis-Storage-not-support-EVAL-command" class="headerlink" title="when use tencent cloud Cloud Redis Storage not support EVAL command"></a>when use tencent cloud <code>Cloud Redis Storage</code> not support <code>EVAL</code> command</h1><ul>
<li><p>Log</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">2018-04-01 23:59:19 WARN  [nioEventLoopGroup-10-1] i.n.channel.DefaultChannelPipeline 151 - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.</span><br><span class="line">org.redisson.client.RedisException: ERR unknown command &apos; EVAL &apos;. channel: [id: 0x126df2e7, L:/172.17.0.4:42414 - R:/172.31.48.16:6379] command: (EVAL), params: [local v = redis.call(&apos;hget&apos;, KEYS[1], ARGV[1]); redis.call(&apos;hdel&apos;, KEYS[1], ARGV[1]); return v, 1, redisson_live_object:&#123;223030303030303030303033303030303122&#125;:com.parkbox.domain.DeviceStatus:uniqueId..., PooledUnsafeDirectByteBuf(ridx: 0, widx: 14, cap: 256)]</span><br><span class="line">    at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:243)</span><br><span class="line">    at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:103)</span><br><span class="line">    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)</span><br><span class="line">    at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:367)</span><br><span class="line">    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)</span><br><span class="line">    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)</span><br><span class="line">    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)</span><br><span class="line">    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)</span><br><span class="line">    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)</span><br><span class="line">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)</span><br><span class="line">    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935)</span><br><span class="line">    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134)</span><br><span class="line">    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)</span><br><span class="line">    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)</span><br><span class="line">    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)</span><br><span class="line">    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)</span><br><span class="line">    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)</span><br><span class="line">    at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:138)</span><br><span class="line">    at java.lang.Thread.run(Thread.java:748)</span><br><span class="line">2018-04-01 23:59:21 DEBUG [nioEventLoopGroup-10-1] c.p.protoc</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="https://cloud.tencent.com/document/product/239/4073" target="_blank" rel="noopener">腾讯云暂时不开放redis一些脚本命令</a></p>
</li>
<li><p><a href="https://cloud.tencent.com/product/crs" target="_blank" rel="noopener">Cloud Redis Storage</a></p>
</li>
<li><p><a href="http://www.cnblogs.com/softidea/p/5973591.html" target="_blank" rel="noopener">Redisson使用起来很方便，但是需要redis环境支持eval命令 - 沧海一滴 - 博客园</a></p>
</li>
<li><a href="http://blog.jobbole.com/99751/" target="_blank" rel="noopener">基于Redis实现分布式锁，Redisson使用及源码分析 - 文章 - 伯乐在线</a></li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="markhuyong" />
          <p class="site-author-name" itemprop="name">markhuyong</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">markhuyong</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
